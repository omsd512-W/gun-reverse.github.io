(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function _i(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ie={},ls=[],ct=()=>{},Ra=()=>!1,Yn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yi=t=>t.startsWith("onUpdate:"),we=Object.assign,bi=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},bu=Object.prototype.hasOwnProperty,se=(t,e)=>bu.call(t,e),W=Array.isArray,cs=t=>Ys(t)==="[object Map]",Zn=t=>Ys(t)==="[object Set]",uo=t=>Ys(t)==="[object Date]",G=t=>typeof t=="function",de=t=>typeof t=="string",ut=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",Ia=t=>(re(t)||G(t))&&G(t.then)&&G(t.catch),Oa=Object.prototype.toString,Ys=t=>Oa.call(t),wu=t=>Ys(t).slice(8,-1),$a=t=>Ys(t)==="[object Object]",wi=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ms=_i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),er=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},vu=/-\w/g,kt=er(t=>t.replace(vu,e=>e.slice(1).toUpperCase())),xu=/\B([A-Z])/g,Mt=er(t=>t.replace(xu,"-$1").toLowerCase()),ka=er(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sr=er(t=>t?`on${ka(t)}`:""),$t=(t,e)=>!Object.is(t,e),bn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Pa=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},tr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Su=t=>{const e=de(t)?Number(t):NaN;return isNaN(e)?t:e};let fo;const sr=()=>fo||(fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vi(t){if(W(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=de(n)?Eu(n):vi(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(de(t)||re(t))return t}const Cu=/;(?![^(]*\))/g,Au=/:([^]+)/,Tu=/\/\*[^]*?\*\//g;function Eu(t){const e={};return t.replace(Tu,"").split(Cu).forEach(s=>{if(s){const n=s.split(Au);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function nr(t){let e="";if(de(t))e=t;else if(W(t))for(let s=0;s<t.length;s++){const n=nr(t[s]);n&&(e+=n+" ")}else if(re(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ru="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Iu=_i(Ru);function Ma(t){return!!t||t===""}function Ou(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=rr(t[n],e[n]);return s}function rr(t,e){if(t===e)return!0;let s=uo(t),n=uo(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=ut(t),n=ut(e),s||n)return t===e;if(s=W(t),n=W(e),s||n)return s&&n?Ou(t,e):!1;if(s=re(t),n=re(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!rr(t[o],e[o]))return!1}}return String(t)===String(e)}function $u(t,e){return t.findIndex(s=>rr(s,e))}const Fa=t=>!!(t&&t.__v_isRef===!0),rt=t=>de(t)?t:t==null?"":W(t)||re(t)&&(t.toString===Oa||!G(t.toString))?Fa(t)?rt(t.value):JSON.stringify(t,Na,2):String(t),Na=(t,e)=>Fa(e)?Na(t,e.value):cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[Cr(n,i)+" =>"]=r,s),{})}:Zn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Cr(s))}:ut(e)?Cr(e):re(e)&&!W(e)&&!$a(e)?String(e):e,Cr=(t,e="")=>{var s;return ut(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};let Pe;class ku{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Pe;try{return Pe=this,e()}finally{Pe=s}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Pu(){return Pe}let le;const Ar=new WeakSet;class La{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ar.has(this)&&(Ar.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ba(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ho(this),ja(this);const e=le,s=ze;le=this,ze=!0;try{return this.fn()}finally{Ua(this),le=e,ze=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ci(e);this.deps=this.depsTail=void 0,ho(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ar.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vr(this)&&this.run()}get dirty(){return Vr(this)}}let Da=0,Fs,Ns;function Ba(t,e=!1){if(t.flags|=8,e){t.next=Ns,Ns=t;return}t.next=Fs,Fs=t}function xi(){Da++}function Si(){if(--Da>0)return;if(Ns){let e=Ns;for(Ns=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Fs;){let e=Fs;for(Fs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function ja(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ua(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Ci(n),Mu(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Vr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ha(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ha(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===qs)||(t.globalVersion=qs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Vr(t))))return;t.flags|=2;const e=t.dep,s=le,n=ze;le=t,ze=!0;try{ja(t);const r=t.fn(t._value);(e.version===0||$t(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{le=s,ze=n,Ua(t),t.flags&=-3}}function Ci(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Ci(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Mu(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let ze=!0;const Wa=[];function wt(){Wa.push(ze),ze=!1}function vt(){const t=Wa.pop();ze=t===void 0?!0:t}function ho(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=le;le=void 0;try{e()}finally{le=s}}}let qs=0;class Fu{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ai{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!le||!ze||le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==le)s=this.activeLink=new Fu(le,this),le.deps?(s.prevDep=le.depsTail,le.depsTail.nextDep=s,le.depsTail=s):le.deps=le.depsTail=s,qa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=le.depsTail,s.nextDep=void 0,le.depsTail.nextDep=s,le.depsTail=s,le.deps===s&&(le.deps=n)}return s}trigger(e){this.version++,qs++,this.notify(e)}notify(e){xi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Si()}}}function qa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)qa(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Kr=new WeakMap,Xt=Symbol(""),Jr=Symbol(""),Vs=Symbol("");function xe(t,e,s){if(ze&&le){let n=Kr.get(t);n||Kr.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Ai),r.map=n,r.key=s),r.track()}}function yt(t,e,s,n,r,i){const o=Kr.get(t);if(!o){qs++;return}const a=l=>{l&&l.trigger()};if(xi(),e==="clear")o.forEach(a);else{const l=W(t),u=l&&wi(s);if(l&&s==="length"){const c=Number(n);o.forEach((d,g)=>{(g==="length"||g===Vs||!ut(g)&&g>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Vs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Xt)),cs(t)&&a(o.get(Jr)));break;case"delete":l||(a(o.get(Xt)),cs(t)&&a(o.get(Jr)));break;case"set":cs(t)&&a(o.get(Xt));break}}Si()}function Qt(t){const e=te(t);return e===t?e:(xe(e,"iterate",Vs),Je(t)?e:e.map(Ge))}function ir(t){return xe(t=te(t),"iterate",Vs),t}function Rt(t,e){return xt(t)?zt(t)?hs(Ge(e)):hs(e):Ge(e)}const Nu={__proto__:null,[Symbol.iterator](){return Tr(this,Symbol.iterator,t=>Rt(this,t))},concat(...t){return Qt(this).concat(...t.map(e=>W(e)?Qt(e):e))},entries(){return Tr(this,"entries",t=>(t[1]=Rt(this,t[1]),t))},every(t,e){return ft(this,"every",t,e,void 0,arguments)},filter(t,e){return ft(this,"filter",t,e,s=>s.map(n=>Rt(this,n)),arguments)},find(t,e){return ft(this,"find",t,e,s=>Rt(this,s),arguments)},findIndex(t,e){return ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ft(this,"findLast",t,e,s=>Rt(this,s),arguments)},findLastIndex(t,e){return ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return Er(this,"includes",t)},indexOf(...t){return Er(this,"indexOf",t)},join(t){return Qt(this).join(t)},lastIndexOf(...t){return Er(this,"lastIndexOf",t)},map(t,e){return ft(this,"map",t,e,void 0,arguments)},pop(){return bs(this,"pop")},push(...t){return bs(this,"push",t)},reduce(t,...e){return po(this,"reduce",t,e)},reduceRight(t,...e){return po(this,"reduceRight",t,e)},shift(){return bs(this,"shift")},some(t,e){return ft(this,"some",t,e,void 0,arguments)},splice(...t){return bs(this,"splice",t)},toReversed(){return Qt(this).toReversed()},toSorted(t){return Qt(this).toSorted(t)},toSpliced(...t){return Qt(this).toSpliced(...t)},unshift(...t){return bs(this,"unshift",t)},values(){return Tr(this,"values",t=>Rt(this,t))}};function Tr(t,e,s){const n=ir(t),r=n[e]();return n!==t&&!Je(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const Lu=Array.prototype;function ft(t,e,s,n,r,i){const o=ir(t),a=o!==t&&!Je(t),l=o[e];if(l!==Lu[e]){const d=l.apply(t,i);return a?Ge(d):d}let u=s;o!==t&&(a?u=function(d,g){return s.call(this,Rt(t,d),g,t)}:s.length>2&&(u=function(d,g){return s.call(this,d,g,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function po(t,e,s,n){const r=ir(t);let i=s;return r!==t&&(Je(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Rt(t,a),l,t)}),r[e](i,...n)}function Er(t,e,s){const n=te(t);xe(n,"iterate",Vs);const r=n[e](...s);return(r===-1||r===!1)&&Ii(s[0])?(s[0]=te(s[0]),n[e](...s)):r}function bs(t,e,s=[]){wt(),xi();const n=te(t)[e].apply(t,s);return Si(),vt(),n}const Du=_i("__proto__,__v_isRef,__isVue"),Va=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ut));function Bu(t){ut(t)||(t=String(t));const e=te(this);return xe(e,"has",t),e.hasOwnProperty(t)}class Ka{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?zu:Ga:i?za:Xa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=W(e);if(!r){let l;if(o&&(l=Nu[s]))return l;if(s==="hasOwnProperty")return Bu}const a=Reflect.get(e,s,Se(e)?e:n);if((ut(s)?Va.has(s):Du(s))||(r||xe(e,"get",s),i))return a;if(Se(a)){const l=o&&wi(s)?a:a.value;return r&&re(l)?zr(l):l}return re(a)?r?zr(a):Ei(a):a}}class Ja extends Ka{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];const o=W(e)&&wi(s);if(!this._isShallow){const u=xt(i);if(!Je(n)&&!xt(n)&&(i=te(i),n=te(n)),!o&&Se(i)&&!Se(n))return u||(i.value=n),!0}const a=o?Number(s)<e.length:se(e,s),l=Reflect.set(e,s,n,Se(e)?e:r);return e===te(r)&&(a?$t(n,i)&&yt(e,"set",s,n):yt(e,"add",s,n)),l}deleteProperty(e,s){const n=se(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&yt(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!ut(s)||!Va.has(s))&&xe(e,"has",s),n}ownKeys(e){return xe(e,"iterate",W(e)?"length":Xt),Reflect.ownKeys(e)}}class ju extends Ka{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Uu=new Ja,Hu=new ju,Wu=new Ja(!0);const Xr=t=>t,an=t=>Reflect.getPrototypeOf(t);function qu(t,e,s){return function(...n){const r=this.__v_raw,i=te(r),o=cs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?Xr:e?hs:Ge;return!e&&xe(i,"iterate",l?Jr:Xt),{next(){const{value:d,done:g}=u.next();return g?{value:d,done:g}:{value:a?[c(d[0]),c(d[1])]:c(d),done:g}},[Symbol.iterator](){return this}}}}function ln(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Vu(t,e){const s={get(r){const i=this.__v_raw,o=te(i),a=te(r);t||($t(r,a)&&xe(o,"get",r),xe(o,"get",a));const{has:l}=an(o),u=e?Xr:t?hs:Ge;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&xe(te(r),"iterate",Xt),r.size},has(r){const i=this.__v_raw,o=te(i),a=te(r);return t||($t(r,a)&&xe(o,"has",r),xe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=te(a),u=e?Xr:t?hs:Ge;return!t&&xe(l,"iterate",Xt),a.forEach((c,d)=>r.call(i,u(c),u(d),o))}};return we(s,t?{add:ln("add"),set:ln("set"),delete:ln("delete"),clear:ln("clear")}:{add(r){!e&&!Je(r)&&!xt(r)&&(r=te(r));const i=te(this);return an(i).has.call(i,r)||(i.add(r),yt(i,"add",r,r)),this},set(r,i){!e&&!Je(i)&&!xt(i)&&(i=te(i));const o=te(this),{has:a,get:l}=an(o);let u=a.call(o,r);u||(r=te(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?$t(i,c)&&yt(o,"set",r,i):yt(o,"add",r,i),this},delete(r){const i=te(this),{has:o,get:a}=an(i);let l=o.call(i,r);l||(r=te(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&yt(i,"delete",r,void 0),u},clear(){const r=te(this),i=r.size!==0,o=r.clear();return i&&yt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=qu(r,t,e)}),s}function Ti(t,e){const s=Vu(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(se(s,r)&&r in n?s:n,r,i)}const Ku={get:Ti(!1,!1)},Ju={get:Ti(!1,!0)},Xu={get:Ti(!0,!1)};const Xa=new WeakMap,za=new WeakMap,Ga=new WeakMap,zu=new WeakMap;function Gu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qu(t){return t.__v_skip||!Object.isExtensible(t)?0:Gu(wu(t))}function Ei(t){return xt(t)?t:Ri(t,!1,Uu,Ku,Xa)}function Yu(t){return Ri(t,!1,Wu,Ju,za)}function zr(t){return Ri(t,!0,Hu,Xu,Ga)}function Ri(t,e,s,n,r){if(!re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Qu(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function zt(t){return xt(t)?zt(t.__v_raw):!!(t&&t.__v_isReactive)}function xt(t){return!!(t&&t.__v_isReadonly)}function Je(t){return!!(t&&t.__v_isShallow)}function Ii(t){return t?!!t.__v_raw:!1}function te(t){const e=t&&t.__v_raw;return e?te(e):t}function Zu(t){return!se(t,"__v_skip")&&Object.isExtensible(t)&&Pa(t,"__v_skip",!0),t}const Ge=t=>re(t)?Ei(t):t,hs=t=>re(t)?zr(t):t;function Se(t){return t?t.__v_isRef===!0:!1}function $e(t){return ef(t,!1)}function ef(t,e){return Se(t)?t:new tf(t,e)}class tf{constructor(e,s){this.dep=new Ai,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:te(e),this._value=s?e:Ge(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Je(e)||xt(e);e=n?e:te(e),$t(e,s)&&(this._rawValue=e,this._value=n?e:Ge(e),this.dep.trigger())}}function Ne(t){return Se(t)?t.value:t}const sf={get:(t,e,s)=>e==="__v_raw"?t:Ne(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Qa(t){return zt(t)?t:new Proxy(t,sf)}class nf{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Ai(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return Ba(this,!0),!0}get value(){const e=this.dep.track();return Ha(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rf(t,e,s=!1){let n,r;return G(t)?n=t:(n=t.get,r=t.set),new nf(n,r,s)}const cn={},kn=new WeakMap;let Ut;function of(t,e=!1,s=Ut){if(s){let n=kn.get(s);n||kn.set(s,n=[]),n.push(t)}}function af(t,e,s=ie){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=I=>r?I:Je(I)||r===!1||r===0?bt(I,1):bt(I);let c,d,g,p,C=!1,S=!1;if(Se(t)?(d=()=>t.value,C=Je(t)):zt(t)?(d=()=>u(t),C=!0):W(t)?(S=!0,C=t.some(I=>zt(I)||Je(I)),d=()=>t.map(I=>{if(Se(I))return I.value;if(zt(I))return u(I);if(G(I))return l?l(I,2):I()})):G(t)?e?d=l?()=>l(t,2):t:d=()=>{if(g){wt();try{g()}finally{vt()}}const I=Ut;Ut=c;try{return l?l(t,3,[p]):t(p)}finally{Ut=I}}:d=ct,e&&r){const I=d,V=r===!0?1/0:r;d=()=>bt(I(),V)}const z=Pu(),M=()=>{c.stop(),z&&z.active&&bi(z.effects,c)};if(i&&e){const I=e;e=(...V)=>{I(...V),M()}}let A=S?new Array(t.length).fill(cn):cn;const q=I=>{if(!(!(c.flags&1)||!c.dirty&&!I))if(e){const V=c.run();if(r||C||(S?V.some((T,F)=>$t(T,A[F])):$t(V,A))){g&&g();const T=Ut;Ut=c;try{const F=[V,A===cn?void 0:S&&A[0]===cn?[]:A,p];A=V,l?l(e,3,F):e(...F)}finally{Ut=T}}}else c.run()};return a&&a(q),c=new La(d),c.scheduler=o?()=>o(q,!1):q,p=I=>of(I,!1,c),g=c.onStop=()=>{const I=kn.get(c);if(I){if(l)l(I,4);else for(const V of I)V();kn.delete(c)}},e?n?q(!0):A=c.run():o?o(q.bind(null,!0),!0):c.run(),M.pause=c.pause.bind(c),M.resume=c.resume.bind(c),M.stop=M,M}function bt(t,e=1/0,s){if(e<=0||!re(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Se(t))bt(t.value,e,s);else if(W(t))for(let n=0;n<t.length;n++)bt(t[n],e,s);else if(Zn(t)||cs(t))t.forEach(n=>{bt(n,e,s)});else if($a(t)){for(const n in t)bt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&bt(t[n],e,s)}return t}function Zs(t,e,s,n){try{return n?t(...n):t()}catch(r){or(r,e,s)}}function Qe(t,e,s,n){if(G(t)){const r=Zs(t,e,s,n);return r&&Ia(r)&&r.catch(i=>{or(i,e,s)}),r}if(W(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Qe(t[i],e,s,n));return r}}function or(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ie;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){wt(),Zs(i,null,10,[t,l,u]),vt();return}}lf(t,s,r,n,o)}function lf(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const Te=[];let it=-1;const us=[];let It=null,ss=0;const Ya=Promise.resolve();let Pn=null;function Oi(t){const e=Pn||Ya;return t?e.then(this?t.bind(this):t):e}function cf(t){let e=it+1,s=Te.length;for(;e<s;){const n=e+s>>>1,r=Te[n],i=Ks(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function $i(t){if(!(t.flags&1)){const e=Ks(t),s=Te[Te.length-1];!s||!(t.flags&2)&&e>=Ks(s)?Te.push(t):Te.splice(cf(e),0,t),t.flags|=1,Za()}}function Za(){Pn||(Pn=Ya.then(tl))}function uf(t){W(t)?us.push(...t):It&&t.id===-1?It.splice(ss+1,0,t):t.flags&1||(us.push(t),t.flags|=1),Za()}function mo(t,e,s=it+1){for(;s<Te.length;s++){const n=Te[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Te.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function el(t){if(us.length){const e=[...new Set(us)].sort((s,n)=>Ks(s)-Ks(n));if(us.length=0,It){It.push(...e);return}for(It=e,ss=0;ss<It.length;ss++){const s=It[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}It=null,ss=0}}const Ks=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tl(t){try{for(it=0;it<Te.length;it++){const e=Te[it];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Zs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;it<Te.length;it++){const e=Te[it];e&&(e.flags&=-2)}it=-1,Te.length=0,el(),Pn=null,(Te.length||us.length)&&tl()}}let Ve=null,sl=null;function Mn(t){const e=Ve;return Ve=t,sl=t&&t.type.__scopeId||null,e}function nl(t,e=Ve,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Ln(-1);const i=Mn(e);let o;try{o=t(...r)}finally{Mn(i),n._d&&Ln(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function un(t,e){if(Ve===null)return t;const s=fr(Ve),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=ie]=e[r];i&&(G(i)&&(i={mounted:i,updated:i}),i.deep&&bt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Lt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(wt(),Qe(l,s,8,[t.el,a,t,e]),vt())}}function ff(t,e){if(Re){let s=Re.provides;const n=Re.parent&&Re.parent.provides;n===s&&(s=Re.provides=Object.create(n)),s[t]=e}}function wn(t,e,s=!1){const n=Ml();if(n||fs){let r=fs?fs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&G(e)?e.call(n&&n.proxy):e}}const df=Symbol.for("v-scx"),hf=()=>wn(df);function Rr(t,e,s){return rl(t,e,s)}function rl(t,e,s=ie){const{immediate:n,deep:r,flush:i,once:o}=s,a=we({},s),l=e&&n||!e&&i!=="post";let u;if(zs){if(i==="sync"){const p=hf();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ct,p.resume=ct,p.pause=ct,p}}const c=Re;a.call=(p,C,S)=>Qe(p,c,C,S);let d=!1;i==="post"?a.scheduler=p=>{Be(p,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(p,C)=>{C?p():$i(p)}),a.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const g=af(t,e,a);return zs&&(u?u.push(g):l&&g()),g}function pf(t,e,s){const n=this.proxy,r=de(t)?t.includes(".")?il(n,t):()=>n[t]:t.bind(n,n);let i;G(e)?i=e:(i=e.handler,s=e);const o=en(this),a=rl(r,i.bind(n),s);return o(),a}function il(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const mf=Symbol("_vte"),ol=t=>t.__isTeleport,_t=Symbol("_leaveCb"),fn=Symbol("_enterCb");function gf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ki(()=>{t.isMounted=!0}),pl(()=>{t.isUnmounting=!0}),t}const We=[Function,Array],al={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:We,onEnter:We,onAfterEnter:We,onEnterCancelled:We,onBeforeLeave:We,onLeave:We,onAfterLeave:We,onLeaveCancelled:We,onBeforeAppear:We,onAppear:We,onAfterAppear:We,onAppearCancelled:We},ll=t=>{const e=t.subTree;return e.component?ll(e.component):e},_f={name:"BaseTransition",props:al,setup(t,{slots:e}){const s=Ml(),n=gf();return()=>{const r=e.default&&fl(e.default(),!0);if(!r||!r.length)return;const i=cl(r),o=te(t),{mode:a}=o;if(n.isLeaving)return Ir(i);const l=go(i);if(!l)return Ir(i);let u=Gr(l,o,n,s,d=>u=d);l.type!==Ee&&Js(l,u);let c=s.subTree&&go(s.subTree);if(c&&c.type!==Ee&&!Wt(c,l)&&ll(s).type!==Ee){let d=Gr(c,o,n,s);if(Js(c,d),a==="out-in"&&l.type!==Ee)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,c=void 0},Ir(i);a==="in-out"&&l.type!==Ee?d.delayLeave=(g,p,C)=>{const S=ul(n,c);S[String(c.key)]=c,g[_t]=()=>{p(),g[_t]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{C(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function cl(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Ee){e=s;break}}return e}const yf=_f;function ul(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Gr(t,e,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:g,onLeave:p,onAfterLeave:C,onLeaveCancelled:S,onBeforeAppear:z,onAppear:M,onAfterAppear:A,onAppearCancelled:q}=e,I=String(t.key),V=ul(s,t),T=(N,B)=>{N&&Qe(N,n,9,B)},F=(N,B)=>{const J=B[1];T(N,B),W(N)?N.every($=>$.length<=1)&&J():N.length<=1&&J()},Q={mode:o,persisted:a,beforeEnter(N){let B=l;if(!s.isMounted)if(i)B=z||l;else return;N[_t]&&N[_t](!0);const J=V[I];J&&Wt(t,J)&&J.el[_t]&&J.el[_t](),T(B,[N])},enter(N){let B=u,J=c,$=d;if(!s.isMounted)if(i)B=M||u,J=A||c,$=q||d;else return;let ee=!1;const fe=N[fn]=He=>{ee||(ee=!0,He?T($,[N]):T(J,[N]),Q.delayedLeave&&Q.delayedLeave(),N[fn]=void 0)};B?F(B,[N,fe]):fe()},leave(N,B){const J=String(t.key);if(N[fn]&&N[fn](!0),s.isUnmounting)return B();T(g,[N]);let $=!1;const ee=N[_t]=fe=>{$||($=!0,B(),fe?T(S,[N]):T(C,[N]),N[_t]=void 0,V[J]===t&&delete V[J])};V[J]=t,p?F(p,[N,ee]):ee()},clone(N){const B=Gr(N,e,s,n,r);return r&&r(B),B}};return Q}function Ir(t){if(ar(t))return t=Pt(t),t.children=null,t}function go(t){if(!ar(t))return ol(t.type)&&t.children?cl(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&G(s.default))return s.default()}}function Js(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Js(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fl(t,e=!1,s){let n=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===qe?(o.patchFlag&128&&r++,n=n.concat(fl(o.children,e,a))):(e||o.type!==Ee)&&n.push(a!=null?Pt(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function dl(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Fn=new WeakMap;function Ls(t,e,s,n,r=!1){if(W(t)){t.forEach((C,S)=>Ls(C,e&&(W(e)?e[S]:e),s,n,r));return}if(Ds(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ls(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?fr(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ie?a.refs={}:a.refs,d=a.setupState,g=te(d),p=d===ie?Ra:C=>se(g,C);if(u!=null&&u!==l){if(_o(e),de(u))c[u]=null,p(u)&&(d[u]=null);else if(Se(u)){u.value=null;const C=e;C.k&&(c[C.k]=null)}}if(G(l))Zs(l,a,12,[o,c]);else{const C=de(l),S=Se(l);if(C||S){const z=()=>{if(t.f){const M=C?p(l)?d[l]:c[l]:l.value;if(r)W(M)&&bi(M,i);else if(W(M))M.includes(i)||M.push(i);else if(C)c[l]=[i],p(l)&&(d[l]=c[l]);else{const A=[i];l.value=A,t.k&&(c[t.k]=A)}}else C?(c[l]=o,p(l)&&(d[l]=o)):S&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const M=()=>{z(),Fn.delete(t)};M.id=-1,Fn.set(t,M),Be(M,s)}else _o(t),z()}}}function _o(t){const e=Fn.get(t);e&&(e.flags|=8,Fn.delete(t))}sr().requestIdleCallback;sr().cancelIdleCallback;const Ds=t=>!!t.type.__asyncLoader,ar=t=>t.type.__isKeepAlive;function bf(t,e){hl(t,"a",e)}function wf(t,e){hl(t,"da",e)}function hl(t,e,s=Re){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(lr(e,n,s),s){let r=s.parent;for(;r&&r.parent;)ar(r.parent.vnode)&&vf(n,e,s,r),r=r.parent}}function vf(t,e,s,n){const r=lr(e,t,n,!0);ml(()=>{bi(n[e],r)},s)}function lr(t,e,s=Re,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{wt();const a=en(s),l=Qe(e,s,t,o);return a(),vt(),l});return n?r.unshift(i):r.push(i),i}}const St=t=>(e,s=Re)=>{(!zs||t==="sp")&&lr(t,(...n)=>e(...n),s)},xf=St("bm"),ki=St("m"),Sf=St("bu"),Cf=St("u"),pl=St("bum"),ml=St("um"),Af=St("sp"),Tf=St("rtg"),Ef=St("rtc");function Rf(t,e=Re){lr("ec",t,e)}const If=Symbol.for("v-ndc");function Of(t,e,s,n){let r;const i=s,o=W(t);if(o||de(t)){const a=o&&zt(t);let l=!1,u=!1;a&&(l=!Je(t),u=xt(t),t=ir(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(l?u?hs(Ge(t[c])):Ge(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(re(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const Qr=t=>t?Fl(t)?fr(t):Qr(t.parent):null,Bs=we(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qr(t.parent),$root:t=>Qr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_l(t),$forceUpdate:t=>t.f||(t.f=()=>{$i(t.update)}),$nextTick:t=>t.n||(t.n=Oi.bind(t.proxy)),$watch:t=>pf.bind(t)}),Or=(t,e)=>t!==ie&&!t.__isScriptSetup&&se(t,e),$f={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(Or(n,e))return o[e]=1,n[e];if(r!==ie&&se(r,e))return o[e]=2,r[e];if(se(i,e))return o[e]=3,i[e];if(s!==ie&&se(s,e))return o[e]=4,s[e];Yr&&(o[e]=0)}}const u=Bs[e];let c,d;if(u)return e==="$attrs"&&xe(t.attrs,"get",""),u(t);if((c=a.__cssModules)&&(c=c[e]))return c;if(s!==ie&&se(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,se(d,e))return d[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return Or(r,e)?(r[e]=s,!0):n!==ie&&se(n,e)?(n[e]=s,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,props:i,type:o}},a){let l;return!!(s[a]||t!==ie&&a[0]!=="$"&&se(t,a)||Or(e,a)||se(i,a)||se(n,a)||se(Bs,a)||se(r.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:se(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function yo(t){return W(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Yr=!0;function kf(t){const e=_l(t),s=t.proxy,n=t.ctx;Yr=!1,e.beforeCreate&&bo(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:g,beforeUpdate:p,updated:C,activated:S,deactivated:z,beforeDestroy:M,beforeUnmount:A,destroyed:q,unmounted:I,render:V,renderTracked:T,renderTriggered:F,errorCaptured:Q,serverPrefetch:N,expose:B,inheritAttrs:J,components:$,directives:ee,filters:fe}=e;if(u&&Pf(u,n,null),o)for(const ce in o){const oe=o[ce];G(oe)&&(n[ce]=oe.bind(s))}if(r){const ce=r.call(s,s);re(ce)&&(t.data=Ei(ce))}if(Yr=!0,i)for(const ce in i){const oe=i[ce],Ft=G(oe)?oe.bind(s,s):G(oe.get)?oe.get.bind(s,s):ct,rn=!G(oe)&&G(oe.set)?oe.set.bind(s):ct,Nt=md({get:Ft,set:rn});Object.defineProperty(n,ce,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:Ye=>Nt.value=Ye})}if(a)for(const ce in a)gl(a[ce],n,s,ce);if(l){const ce=G(l)?l.call(s):l;Reflect.ownKeys(ce).forEach(oe=>{ff(oe,ce[oe])})}c&&bo(c,t,"c");function ge(ce,oe){W(oe)?oe.forEach(Ft=>ce(Ft.bind(s))):oe&&ce(oe.bind(s))}if(ge(xf,d),ge(ki,g),ge(Sf,p),ge(Cf,C),ge(bf,S),ge(wf,z),ge(Rf,Q),ge(Ef,T),ge(Tf,F),ge(pl,A),ge(ml,I),ge(Af,N),W(B))if(B.length){const ce=t.exposed||(t.exposed={});B.forEach(oe=>{Object.defineProperty(ce,oe,{get:()=>s[oe],set:Ft=>s[oe]=Ft,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===ct&&(t.render=V),J!=null&&(t.inheritAttrs=J),$&&(t.components=$),ee&&(t.directives=ee),N&&dl(t)}function Pf(t,e,s=ct){W(t)&&(t=Zr(t));for(const n in t){const r=t[n];let i;re(r)?"default"in r?i=wn(r.from||n,r.default,!0):i=wn(r.from||n):i=wn(r),Se(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function bo(t,e,s){Qe(W(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function gl(t,e,s,n){let r=n.includes(".")?il(s,n):()=>s[n];if(de(t)){const i=e[t];G(i)&&Rr(r,i)}else if(G(t))Rr(r,t.bind(s));else if(re(t))if(W(t))t.forEach(i=>gl(i,e,s,n));else{const i=G(t.handler)?t.handler.bind(s):e[t.handler];G(i)&&Rr(r,i,t)}}function _l(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>Nn(l,u,o,!0)),Nn(l,e,o)),re(e)&&i.set(e,l),l}function Nn(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Nn(t,i,s,!0),r&&r.forEach(o=>Nn(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=Mf[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Mf={data:wo,props:vo,emits:vo,methods:Ss,computed:Ss,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:Ss,directives:Ss,watch:Nf,provide:wo,inject:Ff};function wo(t,e){return e?t?function(){return we(G(t)?t.call(this,this):t,G(e)?e.call(this,this):e)}:e:t}function Ff(t,e){return Ss(Zr(t),Zr(e))}function Zr(t){if(W(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ce(t,e){return t?[...new Set([].concat(t,e))]:e}function Ss(t,e){return t?we(Object.create(null),t,e):e}function vo(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:we(Object.create(null),yo(t),yo(e??{})):e}function Nf(t,e){if(!t)return e;if(!e)return t;const s=we(Object.create(null),t);for(const n in e)s[n]=Ce(t[n],e[n]);return s}function yl(){return{app:null,config:{isNativeTag:Ra,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Lf=0;function Df(t,e){return function(n,r=null){G(n)||(n=we({},n)),r!=null&&!re(r)&&(r=null);const i=yl(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Lf++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:gd,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&G(c.install)?(o.add(c),c.install(u,...d)):G(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,g){if(!l){const p=u._ceVNode||ue(n,r);return p.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(p,c,g),l=!0,u._container=c,c.__vue_app__=u,fr(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Qe(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=fs;fs=u;try{return c()}finally{fs=d}}};return u}}let fs=null;const Bf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${kt(e)}Modifiers`]||t[`${Mt(e)}Modifiers`];function jf(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ie;let r=s;const i=e.startsWith("update:"),o=i&&Bf(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>de(c)?c.trim():c)),o.number&&(r=s.map(tr)));let a,l=n[a=Sr(e)]||n[a=Sr(kt(e))];!l&&i&&(l=n[a=Sr(Mt(e))]),l&&Qe(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Qe(u,t,6,r)}}const Uf=new WeakMap;function bl(t,e,s=!1){const n=s?Uf:e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!G(t)){const l=u=>{const c=bl(u,e,!0);c&&(a=!0,we(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(re(t)&&n.set(t,null),null):(W(i)?i.forEach(l=>o[l]=null):we(o,i),re(t)&&n.set(t,o),o)}function cr(t,e){return!t||!Yn(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,Mt(e))||se(t,e))}function xo(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:g,setupState:p,ctx:C,inheritAttrs:S}=t,z=Mn(t);let M,A;try{if(s.shapeFlag&4){const I=r||n,V=I;M=at(u.call(V,I,c,d,p,g,C)),A=a}else{const I=e;M=at(I.length>1?I(d,{attrs:a,slots:o,emit:l}):I(d,null)),A=e.props?a:Hf(a)}}catch(I){js.length=0,or(I,t,1),M=ue(Ee)}let q=M;if(A&&S!==!1){const I=Object.keys(A),{shapeFlag:V}=q;I.length&&V&7&&(i&&I.some(yi)&&(A=Wf(A,i)),q=Pt(q,A,!1,!0))}return s.dirs&&(q=Pt(q,null,!1,!0),q.dirs=q.dirs?q.dirs.concat(s.dirs):s.dirs),s.transition&&Js(q,s.transition),M=q,Mn(z),M}const Hf=t=>{let e;for(const s in t)(s==="class"||s==="style"||Yn(s))&&((e||(e={}))[s]=t[s]);return e},Wf=(t,e)=>{const s={};for(const n in t)(!yi(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function qf(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?So(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const g=c[d];if(o[g]!==n[g]&&!cr(u,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?So(n,o,u):!0:!!o;return!1}function So(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!cr(s,i))return!0}return!1}function Vf({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const wl={},vl=()=>Object.create(wl),xl=t=>Object.getPrototypeOf(t)===wl;function Kf(t,e,s,n=!1){const r={},i=vl();t.propsDefaults=Object.create(null),Sl(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:Yu(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Jf(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=te(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let g=c[d];if(cr(t.emitsOptions,g))continue;const p=e[g];if(l)if(se(i,g))p!==i[g]&&(i[g]=p,u=!0);else{const C=kt(g);r[C]=ei(l,a,C,p,t,!1)}else p!==i[g]&&(i[g]=p,u=!0)}}}else{Sl(t,e,r,i)&&(u=!0);let c;for(const d in a)(!e||!se(e,d)&&((c=Mt(d))===d||!se(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(r[d]=ei(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!se(e,d))&&(delete i[d],u=!0)}u&&yt(t.attrs,"set","")}function Sl(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ms(l))continue;const u=e[l];let c;r&&se(r,c=kt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:cr(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=te(s),u=a||ie;for(let c=0;c<i.length;c++){const d=i[c];s[d]=ei(r,l,d,u[d],t,!se(u,d))}}return o}function ei(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=se(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&G(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=en(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Mt(s))&&(n=!0))}return n}const Xf=new WeakMap;function Cl(t,e,s=!1){const n=s?Xf:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!G(t)){const c=d=>{l=!0;const[g,p]=Cl(d,e,!0);we(o,g),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return re(t)&&n.set(t,ls),ls;if(W(i))for(let c=0;c<i.length;c++){const d=kt(i[c]);Co(d)&&(o[d]=ie)}else if(i)for(const c in i){const d=kt(c);if(Co(d)){const g=i[c],p=o[d]=W(g)||G(g)?{type:g}:we({},g),C=p.type;let S=!1,z=!0;if(W(C))for(let M=0;M<C.length;++M){const A=C[M],q=G(A)&&A.name;if(q==="Boolean"){S=!0;break}else q==="String"&&(z=!1)}else S=G(C)&&C.name==="Boolean";p[0]=S,p[1]=z,(S||se(p,"default"))&&a.push(d)}}const u=[o,a];return re(t)&&n.set(t,u),u}function Co(t){return t[0]!=="$"&&!Ms(t)}const Pi=t=>t==="_"||t==="_ctx"||t==="$stable",Mi=t=>W(t)?t.map(at):[at(t)],zf=(t,e,s)=>{if(e._n)return e;const n=nl((...r)=>Mi(e(...r)),s);return n._c=!1,n},Al=(t,e,s)=>{const n=t._ctx;for(const r in t){if(Pi(r))continue;const i=t[r];if(G(i))e[r]=zf(r,i,n);else if(i!=null){const o=Mi(i);e[r]=()=>o}}},Tl=(t,e)=>{const s=Mi(e);t.slots.default=()=>s},El=(t,e,s)=>{for(const n in e)(s||!Pi(n))&&(t[n]=e[n])},Gf=(t,e,s)=>{const n=t.slots=vl();if(t.vnode.shapeFlag&32){const r=e._;r?(El(n,e,s),s&&Pa(n,"_",r,!0)):Al(e,n)}else e&&Tl(t,e)},Qf=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=ie;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:El(r,e,s):(i=!e.$stable,Al(e,r)),o=e}else e&&(Tl(t,e),o={default:1});if(i)for(const a in r)!Pi(a)&&o[a]==null&&delete r[a]},Be=sd;function Yf(t){return Zf(t)}function Zf(t,e){const s=sr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:g,setScopeId:p=ct,insertStaticContent:C}=t,S=(f,h,_,x=null,y=null,b=null,O=void 0,R=null,E=!!h.dynamicChildren)=>{if(f===h)return;f&&!Wt(f,h)&&(x=on(f),Ye(f,y,b,!0),f=null),h.patchFlag===-2&&(E=!1,h.dynamicChildren=null);const{type:w,ref:U,shapeFlag:k}=h;switch(w){case ur:z(f,h,_,x);break;case Ee:M(f,h,_,x);break;case kr:f==null&&A(h,_,x,O);break;case qe:$(f,h,_,x,y,b,O,R,E);break;default:k&1?V(f,h,_,x,y,b,O,R,E):k&6?ee(f,h,_,x,y,b,O,R,E):(k&64||k&128)&&w.process(f,h,_,x,y,b,O,R,E,_s)}U!=null&&y?Ls(U,f&&f.ref,b,h||f,!h):U==null&&f&&f.ref!=null&&Ls(f.ref,null,b,f,!0)},z=(f,h,_,x)=>{if(f==null)n(h.el=a(h.children),_,x);else{const y=h.el=f.el;h.children!==f.children&&u(y,h.children)}},M=(f,h,_,x)=>{f==null?n(h.el=l(h.children||""),_,x):h.el=f.el},A=(f,h,_,x)=>{[f.el,f.anchor]=C(f.children,h,_,x,f.el,f.anchor)},q=({el:f,anchor:h},_,x)=>{let y;for(;f&&f!==h;)y=g(f),n(f,_,x),f=y;n(h,_,x)},I=({el:f,anchor:h})=>{let _;for(;f&&f!==h;)_=g(f),r(f),f=_;r(h)},V=(f,h,_,x,y,b,O,R,E)=>{if(h.type==="svg"?O="svg":h.type==="math"&&(O="mathml"),f==null)T(h,_,x,y,b,O,R,E);else{const w=f.el&&f.el._isVueCE?f.el:null;try{w&&w._beginPatch(),N(f,h,y,b,O,R,E)}finally{w&&w._endPatch()}}},T=(f,h,_,x,y,b,O,R)=>{let E,w;const{props:U,shapeFlag:k,transition:j,dirs:X}=f;if(E=f.el=o(f.type,b,U&&U.is,U),k&8?c(E,f.children):k&16&&Q(f.children,E,null,x,y,$r(f,b),O,R),X&&Lt(f,null,x,"created"),F(E,f,f.scopeId,O,x),U){for(const ae in U)ae!=="value"&&!Ms(ae)&&i(E,ae,null,U[ae],b,x);"value"in U&&i(E,"value",null,U.value,b),(w=U.onVnodeBeforeMount)&&st(w,x,f)}X&&Lt(f,null,x,"beforeMount");const Z=ed(y,j);Z&&j.beforeEnter(E),n(E,h,_),((w=U&&U.onVnodeMounted)||Z||X)&&Be(()=>{w&&st(w,x,f),Z&&j.enter(E),X&&Lt(f,null,x,"mounted")},y)},F=(f,h,_,x,y)=>{if(_&&p(f,_),x)for(let b=0;b<x.length;b++)p(f,x[b]);if(y){let b=y.subTree;if(h===b||$l(b.type)&&(b.ssContent===h||b.ssFallback===h)){const O=y.vnode;F(f,O,O.scopeId,O.slotScopeIds,y.parent)}}},Q=(f,h,_,x,y,b,O,R,E=0)=>{for(let w=E;w<f.length;w++){const U=f[w]=R?Ot(f[w]):at(f[w]);S(null,U,h,_,x,y,b,O,R)}},N=(f,h,_,x,y,b,O)=>{const R=h.el=f.el;let{patchFlag:E,dynamicChildren:w,dirs:U}=h;E|=f.patchFlag&16;const k=f.props||ie,j=h.props||ie;let X;if(_&&Dt(_,!1),(X=j.onVnodeBeforeUpdate)&&st(X,_,h,f),U&&Lt(h,f,_,"beforeUpdate"),_&&Dt(_,!0),(k.innerHTML&&j.innerHTML==null||k.textContent&&j.textContent==null)&&c(R,""),w?B(f.dynamicChildren,w,R,_,x,$r(h,y),b):O||oe(f,h,R,null,_,x,$r(h,y),b,!1),E>0){if(E&16)J(R,k,j,_,y);else if(E&2&&k.class!==j.class&&i(R,"class",null,j.class,y),E&4&&i(R,"style",k.style,j.style,y),E&8){const Z=h.dynamicProps;for(let ae=0;ae<Z.length;ae++){const ne=Z[ae],Ie=k[ne],Oe=j[ne];(Oe!==Ie||ne==="value")&&i(R,ne,Ie,Oe,y,_)}}E&1&&f.children!==h.children&&c(R,h.children)}else!O&&w==null&&J(R,k,j,_,y);((X=j.onVnodeUpdated)||U)&&Be(()=>{X&&st(X,_,h,f),U&&Lt(h,f,_,"updated")},x)},B=(f,h,_,x,y,b,O)=>{for(let R=0;R<h.length;R++){const E=f[R],w=h[R],U=E.el&&(E.type===qe||!Wt(E,w)||E.shapeFlag&198)?d(E.el):_;S(E,w,U,null,x,y,b,O,!0)}},J=(f,h,_,x,y)=>{if(h!==_){if(h!==ie)for(const b in h)!Ms(b)&&!(b in _)&&i(f,b,h[b],null,y,x);for(const b in _){if(Ms(b))continue;const O=_[b],R=h[b];O!==R&&b!=="value"&&i(f,b,R,O,y,x)}"value"in _&&i(f,"value",h.value,_.value,y)}},$=(f,h,_,x,y,b,O,R,E)=>{const w=h.el=f?f.el:a(""),U=h.anchor=f?f.anchor:a("");let{patchFlag:k,dynamicChildren:j,slotScopeIds:X}=h;X&&(R=R?R.concat(X):X),f==null?(n(w,_,x),n(U,_,x),Q(h.children||[],_,U,y,b,O,R,E)):k>0&&k&64&&j&&f.dynamicChildren&&f.dynamicChildren.length===j.length?(B(f.dynamicChildren,j,_,y,b,O,R),(h.key!=null||y&&h===y.subTree)&&Rl(f,h,!0)):oe(f,h,_,U,y,b,O,R,E)},ee=(f,h,_,x,y,b,O,R,E)=>{h.slotScopeIds=R,f==null?h.shapeFlag&512?y.ctx.activate(h,_,x,O,E):fe(h,_,x,y,b,O,E):He(f,h,E)},fe=(f,h,_,x,y,b,O)=>{const R=f.component=cd(f,x,y);if(ar(f)&&(R.ctx.renderer=_s),ud(R,!1,O),R.asyncDep){if(y&&y.registerDep(R,ge,O),!f.el){const E=R.subTree=ue(Ee);M(null,E,h,_),f.placeholder=E.el}}else ge(R,f,h,_,y,b,O)},He=(f,h,_)=>{const x=h.component=f.component;if(qf(f,h,_))if(x.asyncDep&&!x.asyncResolved){ce(x,h,_);return}else x.next=h,x.update();else h.el=f.el,x.vnode=h},ge=(f,h,_,x,y,b,O)=>{const R=()=>{if(f.isMounted){let{next:k,bu:j,u:X,parent:Z,vnode:ae}=f;{const et=Il(f);if(et){k&&(k.el=ae.el,ce(f,k,O)),et.asyncDep.then(()=>{f.isUnmounted||R()});return}}let ne=k,Ie;Dt(f,!1),k?(k.el=ae.el,ce(f,k,O)):k=ae,j&&bn(j),(Ie=k.props&&k.props.onVnodeBeforeUpdate)&&st(Ie,Z,k,ae),Dt(f,!0);const Oe=xo(f),Ze=f.subTree;f.subTree=Oe,S(Ze,Oe,d(Ze.el),on(Ze),f,y,b),k.el=Oe.el,ne===null&&Vf(f,Oe.el),X&&Be(X,y),(Ie=k.props&&k.props.onVnodeUpdated)&&Be(()=>st(Ie,Z,k,ae),y)}else{let k;const{el:j,props:X}=h,{bm:Z,m:ae,parent:ne,root:Ie,type:Oe}=f,Ze=Ds(h);Dt(f,!1),Z&&bn(Z),!Ze&&(k=X&&X.onVnodeBeforeMount)&&st(k,ne,h),Dt(f,!0);{Ie.ce&&Ie.ce._def.shadowRoot!==!1&&Ie.ce._injectChildStyle(Oe);const et=f.subTree=xo(f);S(null,et,_,x,f,y,b),h.el=et.el}if(ae&&Be(ae,y),!Ze&&(k=X&&X.onVnodeMounted)){const et=h;Be(()=>st(k,ne,et),y)}(h.shapeFlag&256||ne&&Ds(ne.vnode)&&ne.vnode.shapeFlag&256)&&f.a&&Be(f.a,y),f.isMounted=!0,h=_=x=null}};f.scope.on();const E=f.effect=new La(R);f.scope.off();const w=f.update=E.run.bind(E),U=f.job=E.runIfDirty.bind(E);U.i=f,U.id=f.uid,E.scheduler=()=>$i(U),Dt(f,!0),w()},ce=(f,h,_)=>{h.component=f;const x=f.vnode.props;f.vnode=h,f.next=null,Jf(f,h.props,x,_),Qf(f,h.children,_),wt(),mo(f),vt()},oe=(f,h,_,x,y,b,O,R,E=!1)=>{const w=f&&f.children,U=f?f.shapeFlag:0,k=h.children,{patchFlag:j,shapeFlag:X}=h;if(j>0){if(j&128){rn(w,k,_,x,y,b,O,R,E);return}else if(j&256){Ft(w,k,_,x,y,b,O,R,E);return}}X&8?(U&16&&gs(w,y,b),k!==w&&c(_,k)):U&16?X&16?rn(w,k,_,x,y,b,O,R,E):gs(w,y,b,!0):(U&8&&c(_,""),X&16&&Q(k,_,x,y,b,O,R,E))},Ft=(f,h,_,x,y,b,O,R,E)=>{f=f||ls,h=h||ls;const w=f.length,U=h.length,k=Math.min(w,U);let j;for(j=0;j<k;j++){const X=h[j]=E?Ot(h[j]):at(h[j]);S(f[j],X,_,null,y,b,O,R,E)}w>U?gs(f,y,b,!0,!1,k):Q(h,_,x,y,b,O,R,E,k)},rn=(f,h,_,x,y,b,O,R,E)=>{let w=0;const U=h.length;let k=f.length-1,j=U-1;for(;w<=k&&w<=j;){const X=f[w],Z=h[w]=E?Ot(h[w]):at(h[w]);if(Wt(X,Z))S(X,Z,_,null,y,b,O,R,E);else break;w++}for(;w<=k&&w<=j;){const X=f[k],Z=h[j]=E?Ot(h[j]):at(h[j]);if(Wt(X,Z))S(X,Z,_,null,y,b,O,R,E);else break;k--,j--}if(w>k){if(w<=j){const X=j+1,Z=X<U?h[X].el:x;for(;w<=j;)S(null,h[w]=E?Ot(h[w]):at(h[w]),_,Z,y,b,O,R,E),w++}}else if(w>j)for(;w<=k;)Ye(f[w],y,b,!0),w++;else{const X=w,Z=w,ae=new Map;for(w=Z;w<=j;w++){const Fe=h[w]=E?Ot(h[w]):at(h[w]);Fe.key!=null&&ae.set(Fe.key,w)}let ne,Ie=0;const Oe=j-Z+1;let Ze=!1,et=0;const ys=new Array(Oe);for(w=0;w<Oe;w++)ys[w]=0;for(w=X;w<=k;w++){const Fe=f[w];if(Ie>=Oe){Ye(Fe,y,b,!0);continue}let tt;if(Fe.key!=null)tt=ae.get(Fe.key);else for(ne=Z;ne<=j;ne++)if(ys[ne-Z]===0&&Wt(Fe,h[ne])){tt=ne;break}tt===void 0?Ye(Fe,y,b,!0):(ys[tt-Z]=w+1,tt>=et?et=tt:Ze=!0,S(Fe,h[tt],_,null,y,b,O,R,E),Ie++)}const ao=Ze?td(ys):ls;for(ne=ao.length-1,w=Oe-1;w>=0;w--){const Fe=Z+w,tt=h[Fe],lo=h[Fe+1],co=Fe+1<U?lo.el||Ol(lo):x;ys[w]===0?S(null,tt,_,co,y,b,O,R,E):Ze&&(ne<0||w!==ao[ne]?Nt(tt,_,co,2):ne--)}}},Nt=(f,h,_,x,y=null)=>{const{el:b,type:O,transition:R,children:E,shapeFlag:w}=f;if(w&6){Nt(f.component.subTree,h,_,x);return}if(w&128){f.suspense.move(h,_,x);return}if(w&64){O.move(f,h,_,_s);return}if(O===qe){n(b,h,_);for(let k=0;k<E.length;k++)Nt(E[k],h,_,x);n(f.anchor,h,_);return}if(O===kr){q(f,h,_);return}if(x!==2&&w&1&&R)if(x===0)R.beforeEnter(b),n(b,h,_),Be(()=>R.enter(b),y);else{const{leave:k,delayLeave:j,afterLeave:X}=R,Z=()=>{f.ctx.isUnmounted?r(b):n(b,h,_)},ae=()=>{b._isLeaving&&b[_t](!0),k(b,()=>{Z(),X&&X()})};j?j(b,Z,ae):ae()}else n(b,h,_)},Ye=(f,h,_,x=!1,y=!1)=>{const{type:b,props:O,ref:R,children:E,dynamicChildren:w,shapeFlag:U,patchFlag:k,dirs:j,cacheIndex:X}=f;if(k===-2&&(y=!1),R!=null&&(wt(),Ls(R,null,_,f,!0),vt()),X!=null&&(h.renderCache[X]=void 0),U&256){h.ctx.deactivate(f);return}const Z=U&1&&j,ae=!Ds(f);let ne;if(ae&&(ne=O&&O.onVnodeBeforeUnmount)&&st(ne,h,f),U&6)yu(f.component,_,x);else{if(U&128){f.suspense.unmount(_,x);return}Z&&Lt(f,null,h,"beforeUnmount"),U&64?f.type.remove(f,h,_,_s,x):w&&!w.hasOnce&&(b!==qe||k>0&&k&64)?gs(w,h,_,!1,!0):(b===qe&&k&384||!y&&U&16)&&gs(E,h,_),x&&io(f)}(ae&&(ne=O&&O.onVnodeUnmounted)||Z)&&Be(()=>{ne&&st(ne,h,f),Z&&Lt(f,null,h,"unmounted")},_)},io=f=>{const{type:h,el:_,anchor:x,transition:y}=f;if(h===qe){_u(_,x);return}if(h===kr){I(f);return}const b=()=>{r(_),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(f.shapeFlag&1&&y&&!y.persisted){const{leave:O,delayLeave:R}=y,E=()=>O(_,b);R?R(f.el,b,E):E()}else b()},_u=(f,h)=>{let _;for(;f!==h;)_=g(f),r(f),f=_;r(h)},yu=(f,h,_)=>{const{bum:x,scope:y,job:b,subTree:O,um:R,m:E,a:w}=f;Ao(E),Ao(w),x&&bn(x),y.stop(),b&&(b.flags|=8,Ye(O,f,h,_)),R&&Be(R,h),Be(()=>{f.isUnmounted=!0},h)},gs=(f,h,_,x=!1,y=!1,b=0)=>{for(let O=b;O<f.length;O++)Ye(f[O],h,_,x,y)},on=f=>{if(f.shapeFlag&6)return on(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const h=g(f.anchor||f.el),_=h&&h[mf];return _?g(_):h};let xr=!1;const oo=(f,h,_)=>{let x;f==null?h._vnode&&(Ye(h._vnode,null,null,!0),x=h._vnode.component):S(h._vnode||null,f,h,null,null,null,_),h._vnode=f,xr||(xr=!0,mo(x),el(),xr=!1)},_s={p:S,um:Ye,m:Nt,r:io,mt:fe,mc:Q,pc:oe,pbc:B,n:on,o:t};return{render:oo,hydrate:void 0,createApp:Df(oo)}}function $r({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Dt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ed(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Rl(t,e,s=!1){const n=t.children,r=e.children;if(W(n)&&W(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Ot(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Rl(o,a)),a.type===ur&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===qe?1:0)),a.type===Ee&&!a.el&&(a.el=o.el)}}function td(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Il(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Il(e)}function Ao(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Ol(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Ol(e.subTree):null}const $l=t=>t.__isSuspense;function sd(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):uf(t)}const qe=Symbol.for("v-fgt"),ur=Symbol.for("v-txt"),Ee=Symbol.for("v-cmt"),kr=Symbol.for("v-stc"),js=[];let Ue=null;function ke(t=!1){js.push(Ue=t?null:[])}function nd(){js.pop(),Ue=js[js.length-1]||null}let Xs=1;function Ln(t,e=!1){Xs+=t,t<0&&Ue&&e&&(Ue.hasOnce=!0)}function kl(t){return t.dynamicChildren=Xs>0?Ue||ls:null,nd(),Xs>0&&Ue&&Ue.push(t),t}function dt(t,e,s,n,r,i){return kl(H(t,e,s,n,r,i,!0))}function Cs(t,e,s,n,r){return kl(ue(t,e,s,n,r,!0))}function Dn(t){return t?t.__v_isVNode===!0:!1}function Wt(t,e){return t.type===e.type&&t.key===e.key}const Pl=({key:t})=>t??null,vn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||Se(t)||G(t)?{i:Ve,r:t,k:e,f:!!s}:t:null);function H(t,e=null,s=null,n=0,r=null,i=t===qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pl(e),ref:e&&vn(e),scopeId:sl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ve};return a?(Fi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=de(s)?8:16),Xs>0&&!o&&Ue&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ue.push(l),l}const ue=rd;function rd(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===If)&&(t=Ee),Dn(t)){const a=Pt(t,e,!0);return s&&Fi(a,s),Xs>0&&!i&&Ue&&(a.shapeFlag&6?Ue[Ue.indexOf(t)]=a:Ue.push(a)),a.patchFlag=-2,a}if(pd(t)&&(t=t.__vccOpts),e){e=id(e);let{class:a,style:l}=e;a&&!de(a)&&(e.class=nr(a)),re(l)&&(Ii(l)&&!W(l)&&(l=we({},l)),e.style=vi(l))}const o=de(t)?1:$l(t)?128:ol(t)?64:re(t)?4:G(t)?2:0;return H(t,e,s,n,r,o,i,!0)}function id(t){return t?Ii(t)||xl(t)?we({},t):t:null}function Pt(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?od(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Pl(u),ref:e&&e.ref?s&&i?W(i)?i.concat(vn(e)):[i,vn(e)]:vn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pt(t.ssContent),ssFallback:t.ssFallback&&Pt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Js(c,l.clone(c)),c}function ns(t=" ",e=0){return ue(ur,null,t,e)}function Yt(t="",e=!1){return e?(ke(),Cs(Ee,null,t)):ue(Ee,null,t)}function at(t){return t==null||typeof t=="boolean"?ue(Ee):W(t)?ue(qe,null,t.slice()):Dn(t)?Ot(t):ue(ur,null,String(t))}function Ot(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pt(t)}function Fi(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(W(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Fi(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!xl(e)?e._ctx=Ve:r===3&&Ve&&(Ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else G(e)?(e={default:e,_ctx:Ve},s=32):(e=String(e),n&64?(s=16,e=[ns(e)]):s=8);t.children=e,t.shapeFlag|=s}function od(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=nr([e.class,n.class]));else if(r==="style")e.style=vi([e.style,n.style]);else if(Yn(r)){const i=e[r],o=n[r];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function st(t,e,s,n=null){Qe(t,e,7,[s,n])}const ad=yl();let ld=0;function cd(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||ad,i={uid:ld++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ku(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cl(n,r),emitsOptions:bl(n,r),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:n.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=jf.bind(null,i),t.ce&&t.ce(i),i}let Re=null;const Ml=()=>Re||Ve;let Bn,ti;{const t=sr(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Bn=e("__VUE_INSTANCE_SETTERS__",s=>Re=s),ti=e("__VUE_SSR_SETTERS__",s=>zs=s)}const en=t=>{const e=Re;return Bn(t),t.scope.on(),()=>{t.scope.off(),Bn(e)}},To=()=>{Re&&Re.scope.off(),Bn(null)};function Fl(t){return t.vnode.shapeFlag&4}let zs=!1;function ud(t,e=!1,s=!1){e&&ti(e);const{props:n,children:r}=t.vnode,i=Fl(t);Kf(t,n,i,e),Gf(t,r,s||e);const o=i?fd(t,e):void 0;return e&&ti(!1),o}function fd(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$f);const{setup:n}=s;if(n){wt();const r=t.setupContext=n.length>1?hd(t):null,i=en(t),o=Zs(n,t,0,[t.props,r]),a=Ia(o);if(vt(),i(),(a||t.sp)&&!Ds(t)&&dl(t),a){if(o.then(To,To),e)return o.then(l=>{Eo(t,l)}).catch(l=>{or(l,t,0)});t.asyncDep=o}else Eo(t,o)}else Nl(t)}function Eo(t,e,s){G(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:re(e)&&(t.setupState=Qa(e)),Nl(t)}function Nl(t,e,s){const n=t.type;t.render||(t.render=n.render||ct);{const r=en(t);wt();try{kf(t)}finally{vt(),r()}}}const dd={get(t,e){return xe(t,"get",""),t[e]}};function hd(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,dd),slots:t.slots,emit:t.emit,expose:e}}function fr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Qa(Zu(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bs)return Bs[s](t)},has(e,s){return s in e||s in Bs}})):t.proxy}function pd(t){return G(t)&&"__vccOpts"in t}const md=(t,e)=>rf(t,e,zs);function jn(t,e,s){try{Ln(-1);const n=arguments.length;return n===2?re(e)&&!W(e)?Dn(e)?ue(t,null,[e]):ue(t,e):ue(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Dn(s)&&(s=[s]),ue(t,e,s))}finally{Ln(1)}}const gd="3.5.26";let si;const Ro=typeof window<"u"&&window.trustedTypes;if(Ro)try{si=Ro.createPolicy("vue",{createHTML:t=>t})}catch{}const Ll=si?t=>si.createHTML(t):t=>t,_d="http://www.w3.org/2000/svg",yd="http://www.w3.org/1998/Math/MathML",gt=typeof document<"u"?document:null,Io=gt&&gt.createElement("template"),bd={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?gt.createElementNS(_d,t):e==="mathml"?gt.createElementNS(yd,t):s?gt.createElement(t,{is:s}):gt.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>gt.createTextNode(t),createComment:t=>gt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Io.innerHTML=Ll(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Io.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},At="transition",ws="animation",Gs=Symbol("_vtc"),Dl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wd=we({},al,Dl),vd=t=>(t.displayName="Transition",t.props=wd,t),xd=vd((t,{slots:e})=>jn(yf,Sd(t),e)),Bt=(t,e=[])=>{W(t)?t.forEach(s=>s(...e)):t&&t(...e)},Oo=t=>t?W(t)?t.some(e=>e.length>1):t.length>1:!1;function Sd(t){const e={};for(const $ in t)$ in Dl||(e[$]=t[$]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:g=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,C=Cd(r),S=C&&C[0],z=C&&C[1],{onBeforeEnter:M,onEnter:A,onEnterCancelled:q,onLeave:I,onLeaveCancelled:V,onBeforeAppear:T=M,onAppear:F=A,onAppearCancelled:Q=q}=e,N=($,ee,fe,He)=>{$._enterCancelled=He,jt($,ee?c:a),jt($,ee?u:o),fe&&fe()},B=($,ee)=>{$._isLeaving=!1,jt($,d),jt($,p),jt($,g),ee&&ee()},J=$=>(ee,fe)=>{const He=$?F:A,ge=()=>N(ee,$,fe);Bt(He,[ee,ge]),$o(()=>{jt(ee,$?l:i),ht(ee,$?c:a),Oo(He)||ko(ee,n,S,ge)})};return we(e,{onBeforeEnter($){Bt(M,[$]),ht($,i),ht($,o)},onBeforeAppear($){Bt(T,[$]),ht($,l),ht($,u)},onEnter:J(!1),onAppear:J(!0),onLeave($,ee){$._isLeaving=!0;const fe=()=>B($,ee);ht($,d),$._enterCancelled?(ht($,g),Fo($)):(Fo($),ht($,g)),$o(()=>{$._isLeaving&&(jt($,d),ht($,p),Oo(I)||ko($,n,z,fe))}),Bt(I,[$,fe])},onEnterCancelled($){N($,!1,void 0,!0),Bt(q,[$])},onAppearCancelled($){N($,!0,void 0,!0),Bt(Q,[$])},onLeaveCancelled($){B($),Bt(V,[$])}})}function Cd(t){if(t==null)return null;if(re(t))return[Pr(t.enter),Pr(t.leave)];{const e=Pr(t);return[e,e]}}function Pr(t){return Su(t)}function ht(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Gs]||(t[Gs]=new Set)).add(e)}function jt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Gs];s&&(s.delete(e),s.size||(t[Gs]=void 0))}function $o(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ad=0;function ko(t,e,s,n){const r=t._endId=++Ad,i=()=>{r===t._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=Td(t,e);if(!o)return n();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,g),i()},g=p=>{p.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,g)}function Td(t,e){const s=window.getComputedStyle(t),n=C=>(s[C]||"").split(", "),r=n(`${At}Delay`),i=n(`${At}Duration`),o=Po(r,i),a=n(`${ws}Delay`),l=n(`${ws}Duration`),u=Po(a,l);let c=null,d=0,g=0;e===At?o>0&&(c=At,d=o,g=i.length):e===ws?u>0&&(c=ws,d=u,g=l.length):(d=Math.max(o,u),c=d>0?o>u?At:ws:null,g=c?c===At?i.length:l.length:0);const p=c===At&&/\b(?:transform|all)(?:,|$)/.test(n(`${At}Property`).toString());return{type:c,timeout:d,propCount:g,hasTransform:p}}function Po(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Mo(s)+Mo(t[n])))}function Mo(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Fo(t){return(t?t.ownerDocument:document).body.offsetHeight}function Ed(t,e,s){const n=t[Gs];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const No=Symbol("_vod"),Rd=Symbol("_vsh"),Id=Symbol(""),Od=/(?:^|;)\s*display\s*:/;function $d(t,e,s){const n=t.style,r=de(s);let i=!1;if(s&&!r){if(e)if(de(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&xn(n,a,"")}else for(const o in e)s[o]==null&&xn(n,o,"");for(const o in s)o==="display"&&(i=!0),xn(n,o,s[o])}else if(r){if(e!==s){const o=n[Id];o&&(s+=";"+o),n.cssText=s,i=Od.test(s)}}else e&&t.removeAttribute("style");No in t&&(t[No]=i?n.display:"",t[Rd]&&(n.display="none"))}const Lo=/\s*!important$/;function xn(t,e,s){if(W(s))s.forEach(n=>xn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=kd(t,e);Lo.test(s)?t.setProperty(Mt(n),s.replace(Lo,""),"important"):t[n]=s}}const Do=["Webkit","Moz","ms"],Mr={};function kd(t,e){const s=Mr[e];if(s)return s;let n=kt(e);if(n!=="filter"&&n in t)return Mr[e]=n;n=ka(n);for(let r=0;r<Do.length;r++){const i=Do[r]+n;if(i in t)return Mr[e]=i}return e}const Bo="http://www.w3.org/1999/xlink";function jo(t,e,s,n,r,i=Iu(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Bo,e.slice(6,e.length)):t.setAttributeNS(Bo,e,s):s==null||i&&!Ma(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ut(s)?String(s):s)}function Uo(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ll(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ma(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function qt(t,e,s,n){t.addEventListener(e,s,n)}function Pd(t,e,s,n){t.removeEventListener(e,s,n)}const Ho=Symbol("_vei");function Md(t,e,s,n,r=null){const i=t[Ho]||(t[Ho]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=Fd(e);if(n){const u=i[e]=Dd(n,r);qt(t,a,u,l)}else o&&(Pd(t,a,o,l),i[e]=void 0)}}const Wo=/(?:Once|Passive|Capture)$/;function Fd(t){let e;if(Wo.test(t)){e={};let n;for(;n=t.match(Wo);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mt(t.slice(2)),e]}let Fr=0;const Nd=Promise.resolve(),Ld=()=>Fr||(Nd.then(()=>Fr=0),Fr=Date.now());function Dd(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Qe(Bd(n,s.value),e,5,[n])};return s.value=t,s.attached=Ld(),s}function Bd(t,e){if(W(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const qo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jd=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?Ed(t,n,o):e==="style"?$d(t,s,n):Yn(e)?yi(e)||Md(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ud(t,e,n,o))?(Uo(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&jo(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!de(n))?Uo(t,kt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),jo(t,e,n,o))};function Ud(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&qo(e)&&G(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return qo(e)&&de(s)?!1:e in t}const Un=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?s=>bn(e,s):e};function Hd(t){t.target.composing=!0}function Vo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ds=Symbol("_assign");function Ko(t,e,s){return e&&(t=t.trim()),s&&(t=tr(t)),t}const Nr={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[ds]=Un(r);const i=n||r.props&&r.props.type==="number";qt(t,e?"change":"input",o=>{o.target.composing||t[ds](Ko(t.value,s,i))}),(s||i)&&qt(t,"change",()=>{t.value=Ko(t.value,s,i)}),e||(qt(t,"compositionstart",Hd),qt(t,"compositionend",Vo),qt(t,"change",Vo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[ds]=Un(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?tr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},Wd={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=Zn(e);qt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?tr(Hn(o)):Hn(o));t[ds](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Oi(()=>{t._assigning=!1})}),t[ds]=Un(n)},mounted(t,{value:e}){Jo(t,e)},beforeUpdate(t,e,s){t[ds]=Un(s)},updated(t,{value:e}){t._assigning||Jo(t,e)}};function Jo(t,e){const s=t.multiple,n=W(e);if(!(s&&!n&&!Zn(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Hn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=$u(e,a)>-1}else o.selected=e.has(a);else if(rr(Hn(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Hn(t){return"_value"in t?t._value:t.value}const qd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vd=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(r=>{if(!("key"in r))return;const i=Mt(r.key);if(e.some(o=>o===i||qd[o]===i))return t(r)}))},Kd=we({patchProp:jd},bd);let Xo;function Jd(){return Xo||(Xo=Yf(Kd))}const Xd=((...t)=>{const e=Jd().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=Gd(n);if(!r)return;const i=e._component;!G(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,zd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function zd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Gd(t){return de(t)?document.querySelector(t):t}function K(t,e,s,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}function m(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)}let Bl=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return Bl=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),s=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^s()&15>>+n/4).toString(16))};function ni(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ri=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class D extends Error{}class ve extends D{constructor(e,s,n,r){super(`${ve.makeMessage(e,s,n)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=s;const i=s;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,s,n){const r=s?.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,s,n,r){if(!e||!r)return new dr({message:n,cause:ri(s)});const i=s?.error;return e===400?new jl(e,i,n,r):e===401?new Ul(e,i,n,r):e===403?new Hl(e,i,n,r):e===404?new Wl(e,i,n,r):e===409?new ql(e,i,n,r):e===422?new Vl(e,i,n,r):e===429?new Kl(e,i,n,r):e>=500?new Jl(e,i,n,r):new ve(e,i,n,r)}}class Ke extends ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class dr extends ve{constructor({message:e,cause:s}){super(void 0,void 0,e||"Connection error.",void 0),s&&(this.cause=s)}}class Ni extends dr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class jl extends ve{}class Ul extends ve{}class Hl extends ve{}class Wl extends ve{}class ql extends ve{}class Vl extends ve{}class Kl extends ve{}class Jl extends ve{}class Xl extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class zl extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class As extends Error{constructor(e){super(e)}}const Qd=/^[a-z][a-z0-9+.-]*:/i,Yd=t=>Qd.test(t);let Me=t=>(Me=Array.isArray,Me(t)),zo=Me;function Gl(t){return typeof t!="object"?{}:t??{}}function Zd(t){if(!t)return!0;for(const e in t)return!1;return!0}function eh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lr(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const th=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new D(`${t} must be an integer`);if(e<0)throw new D(`${t} must be a positive integer`);return e},sh=t=>{try{return JSON.parse(t)}catch{return}},tn=t=>new Promise(e=>setTimeout(e,t)),rs="6.15.0",nh=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function rh(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ih=()=>{const t=rh();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":Qo(Deno.build.os),"X-Stainless-Arch":Go(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":Qo(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Go(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=oh();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oh(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:s}of t){const n=s.exec(navigator.userAgent);if(n){const r=n[1]||0,i=n[2]||0,o=n[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const Go=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Qo=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Yo;const ah=()=>Yo??(Yo=ih());function lh(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ql(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Yl(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ql({start(){},async pull(s){const{done:n,value:r}=await e.next();n?s.close():s.enqueue(r)},async cancel(){await e.return?.()}})}function Zl(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const s=await e.read();return s?.done&&e.releaseLock(),s}catch(s){throw e.releaseLock(),s}},async return(){const s=e.cancel();return e.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ch(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),s=e.cancel();e.releaseLock(),await s}const uh=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),ec="RFC3986",tc=t=>String(t),Zo={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:tc},fh="RFC1738";let ii=(t,e)=>(ii=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),ii(t,e));const nt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Dr=1024,dh=(t,e,s,n,r)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),s==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=Dr){const l=i.length>=Dr?i.slice(a,a+Dr):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||r===fh&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=nt[d];continue}if(d<2048){u[u.length]=nt[192|d>>6]+nt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=nt[224|d>>12]+nt[128|d>>6&63]+nt[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=nt[240|d>>18]+nt[128|d>>12&63]+nt[128|d>>6&63]+nt[128|d&63]}o+=u.join("")}return o};function hh(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function ea(t,e){if(Me(t)){const s=[];for(let n=0;n<t.length;n+=1)s.push(e(t[n]));return s}return e(t)}const sc={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},nc=function(t,e){Array.prototype.push.apply(t,Me(e)?e:[e])};let ta;const me={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:dh,encodeValuesOnly:!1,format:ec,formatter:tc,indices:!1,serializeDate(t){return(ta??(ta=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function ph(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Br={};function rc(t,e,s,n,r,i,o,a,l,u,c,d,g,p,C,S,z,M){let A=t,q=M,I=0,V=!1;for(;(q=q.get(Br))!==void 0&&!V;){const B=q.get(t);if(I+=1,typeof B<"u"){if(B===I)throw new RangeError("Cyclic object value");V=!0}typeof q.get(Br)>"u"&&(I=0)}if(typeof u=="function"?A=u(e,A):A instanceof Date?A=g?.(A):s==="comma"&&Me(A)&&(A=ea(A,function(B){return B instanceof Date?g?.(B):B})),A===null){if(i)return l&&!S?l(e,me.encoder,z,"key",p):e;A=""}if(ph(A)||hh(A)){if(l){const B=S?e:l(e,me.encoder,z,"key",p);return[C?.(B)+"="+C?.(l(A,me.encoder,z,"value",p))]}return[C?.(e)+"="+C?.(String(A))]}const T=[];if(typeof A>"u")return T;let F;if(s==="comma"&&Me(A))S&&l&&(A=ea(A,l)),F=[{value:A.length>0?A.join(",")||null:void 0}];else if(Me(u))F=u;else{const B=Object.keys(A);F=c?B.sort(c):B}const Q=a?String(e).replace(/\./g,"%2E"):String(e),N=n&&Me(A)&&A.length===1?Q+"[]":Q;if(r&&Me(A)&&A.length===0)return N+"[]";for(let B=0;B<F.length;++B){const J=F[B],$=typeof J=="object"&&typeof J.value<"u"?J.value:A[J];if(o&&$===null)continue;const ee=d&&a?J.replace(/\./g,"%2E"):J,fe=Me(A)?typeof s=="function"?s(N,ee):N:N+(d?"."+ee:"["+ee+"]");M.set(t,I);const He=new WeakMap;He.set(Br,M),nc(T,rc($,fe,s,n,r,i,o,a,s==="comma"&&S&&Me(A)?null:l,u,c,d,g,p,C,S,z,He))}return T}function mh(t=me){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||me.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=ec;if(typeof t.format<"u"){if(!ii(Zo,t.format))throw new TypeError("Unknown format option provided.");s=t.format}const n=Zo[s];let r=me.filter;(typeof t.filter=="function"||Me(t.filter))&&(r=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in sc?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=me.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:me.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:me.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:me.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:me.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?me.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:me.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:me.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:me.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:me.encodeValuesOnly,filter:r,format:s,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:me.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:me.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:me.strictNullHandling}}function gh(t,e={}){let s=t;const n=mh(e);let r,i;typeof n.filter=="function"?(i=n.filter,s=i("",s)):Me(n.filter)&&(i=n.filter,r=i);const o=[];if(typeof s!="object"||s===null)return"";const a=sc[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;r||(r=Object.keys(s)),n.sort&&r.sort(n.sort);const u=new WeakMap;for(let g=0;g<r.length;++g){const p=r[g];n.skipNulls&&s[p]===null||nc(o,rc(s[p],p,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const c=o.join(n.delimiter);let d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}function _h(t){let e=0;for(const r of t)e+=r.length;const s=new Uint8Array(e);let n=0;for(const r of t)s.set(r,n),n+=r.length;return s}let sa;function Li(t){let e;return(sa??(e=new globalThis.TextEncoder,sa=e.encode.bind(e)))(t)}let na;function ra(t){let e;return(na??(e=new globalThis.TextDecoder,na=e.decode.bind(e)))(t)}var Le,De;class hr{constructor(){Le.set(this,void 0),De.set(this,void 0),K(this,Le,new Uint8Array),K(this,De,null)}decode(e){if(e==null)return[];const s=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Li(e):e;K(this,Le,_h([m(this,Le,"f"),s]));const n=[];let r;for(;(r=yh(m(this,Le,"f"),m(this,De,"f")))!=null;){if(r.carriage&&m(this,De,"f")==null){K(this,De,r.index);continue}if(m(this,De,"f")!=null&&(r.index!==m(this,De,"f")+1||r.carriage)){n.push(ra(m(this,Le,"f").subarray(0,m(this,De,"f")-1))),K(this,Le,m(this,Le,"f").subarray(m(this,De,"f"))),K(this,De,null);continue}const i=m(this,De,"f")!==null?r.preceding-1:r.preceding,o=ra(m(this,Le,"f").subarray(0,i));n.push(o),K(this,Le,m(this,Le,"f").subarray(r.index)),K(this,De,null)}return n}flush(){return m(this,Le,"f").length?this.decode(`
`):[]}}Le=new WeakMap,De=new WeakMap;hr.NEWLINE_CHARS=new Set([`
`,"\r"]);hr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yh(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function bh(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}const Wn={off:0,error:200,warn:300,info:400,debug:500},ia=(t,e,s)=>{if(t){if(eh(Wn,t))return t;ye(s).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Wn))}`)}};function Ts(){}function dn(t,e,s){return!e||Wn[t]>Wn[s]?Ts:e[t].bind(e)}const wh={error:Ts,warn:Ts,info:Ts,debug:Ts};let oa=new WeakMap;function ye(t){const e=t.logger,s=t.logLevel??"off";if(!e)return wh;const n=oa.get(e);if(n&&n[0]===s)return n[1];const r={error:dn("error",e,s),warn:dn("warn",e,s),info:dn("info",e,s),debug:dn("debug",e,s)};return oa.set(e,[s,r]),r}const Ht=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,s])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":s]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var vs;class lt{constructor(e,s,n){this.iterator=e,vs.set(this,void 0),this.controller=s,K(this,vs,n)}static fromSSEResponse(e,s,n){let r=!1;const i=n?ye(n):console;async function*o(){if(r)throw new D("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const l of vh(e,s))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(u&&u.error)throw new ve(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(l.event=="error")throw new ve(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}a=!0}catch(l){if(ni(l))return;throw l}finally{a||s.abort()}}return new lt(o,s,n)}static fromReadableStream(e,s,n){let r=!1;async function*i(){const a=new hr,l=Zl(e);for await(const u of l)for(const c of a.decode(u))yield c;for(const u of a.flush())yield u}async function*o(){if(r)throw new D("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const l of i())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(ni(l))return;throw l}finally{a||s.abort()}}return new lt(o,s,n)}[(vs=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],s=[],n=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=n.next();e.push(o),s.push(o)}return i.shift()}});return[new lt(()=>r(e),this.controller,m(this,vs,"f")),new lt(()=>r(s),this.controller,m(this,vs,"f"))]}toReadableStream(){const e=this;let s;return Ql({async start(){s=e[Symbol.asyncIterator]()},async pull(n){try{const{value:r,done:i}=await s.next();if(i)return n.close();const o=Li(JSON.stringify(r)+`
`);n.enqueue(o)}catch(r){n.error(r)}},async cancel(){await s.return?.()}})}}async function*vh(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new D("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new D("Attempted to iterate over a response with no body");const s=new Sh,n=new hr,r=Zl(t.body);for await(const i of xh(r))for(const o of n.decode(i)){const a=s.decode(o);a&&(yield a)}for(const i of n.flush()){const o=s.decode(i);o&&(yield o)}}async function*xh(t){let e=new Uint8Array;for await(const s of t){if(s==null)continue;const n=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?Li(s):s;let r=new Uint8Array(e.length+n.length);r.set(e),r.set(n,e.length),e=r;let i;for(;(i=bh(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class Sh{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[s,n,r]=Ch(e,":");return r.startsWith(" ")&&(r=r.substring(1)),s==="event"?this.event=r:s==="data"&&this.data.push(r),null}}function Ch(t,e){const s=t.indexOf(e);return s!==-1?[t.substring(0,s),e,t.substring(s+e.length)]:[t,"",""]}async function ic(t,e){const{response:s,requestLogID:n,retryOfRequestLogID:r,startTime:i}=e,o=await(async()=>{if(e.options.stream)return ye(t).debug("response",s.status,s.url,s.headers,s.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(s,e.controller,t):lt.fromSSEResponse(s,e.controller,t);if(s.status===204)return null;if(e.options.__binaryResponse)return s;const l=s.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){const d=await s.json();return oc(d,s)}return await s.text()})();return ye(t).debug(`[${n}] response parsed`,Ht({retryOfRequestLogID:r,url:s.url,status:s.status,body:o,durationMs:Date.now()-i})),o}function oc(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Es;class pr extends Promise{constructor(e,s,n=ic){super(r=>{r(null)}),this.responsePromise=s,this.parseResponse=n,Es.set(this,void 0),K(this,Es,e)}_thenUnwrap(e){return new pr(m(this,Es,"f"),this.responsePromise,async(s,n)=>oc(e(await this.parseResponse(s,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:s,request_id:s.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(m(this,Es,"f"),e))),this.parsedPromise}then(e,s){return this.parse().then(e,s)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Es=new WeakMap;var hn;class Di{constructor(e,s,n,r){hn.set(this,void 0),K(this,hn,e),this.options=r,this.response=s,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await m(this,hn,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(hn=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const s of e.getPaginatedItems())yield s}}class Ah extends pr{constructor(e,s,n){super(e,s,async(r,i)=>new n(r,i.response,await ic(r,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const s of e)yield s}}class mr extends Di{constructor(e,s,n,r){super(e,s,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class he extends Di{constructor(e,s,n,r){super(e,s,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),s=e[e.length-1]?.id;return s?{...this.options,query:{...Gl(this.options.query),after:s}}:null}}class qn extends Di{constructor(e,s,n,r){super(e,s,n,r),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...Gl(this.options.query),after:e}}:null}}const ac=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Us(t,e,s){return ac(),new File(t,e??"unknown_file",s)}function Sn(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Bi=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",aa=async(t,e)=>oi(t.body)?{...t,body:await lc(t.body,e)}:t,Gt=async(t,e)=>({...t,body:await lc(t.body,e)}),la=new WeakMap;function Th(t){const e=typeof t=="function"?t:t.fetch,s=la.get(e);if(s)return s;const n=(async()=>{try{const r="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new r(i).text()}catch{return!0}})();return la.set(e,n),n}const lc=async(t,e)=>{if(!await Th(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const s=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,r])=>ai(s,n,r))),s},cc=t=>t instanceof Blob&&"name"in t,Eh=t=>typeof t=="object"&&t!==null&&(t instanceof Response||Bi(t)||cc(t)),oi=t=>{if(Eh(t))return!0;if(Array.isArray(t))return t.some(oi);if(t&&typeof t=="object"){for(const e in t)if(oi(t[e]))return!0}return!1},ai=async(t,e,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")t.append(e,String(s));else if(s instanceof Response)t.append(e,Us([await s.blob()],Sn(s)));else if(Bi(s))t.append(e,Us([await new Response(Yl(s)).blob()],Sn(s)));else if(cc(s))t.append(e,s,Sn(s));else if(Array.isArray(s))await Promise.all(s.map(n=>ai(t,e+"[]",n)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([n,r])=>ai(t,`${e}[${n}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}},uc=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Rh=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&uc(t),Ih=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Oh(t,e,s){if(ac(),t=await t,Rh(t))return t instanceof File?t:Us([await t.arrayBuffer()],t.name);if(Ih(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Us(await li(r),e,s)}const n=await li(t);if(e||(e=Sn(t)),!s?.type){const r=n.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(s={...s,type:r})}return Us(n,e,s)}async function li(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(uc(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Bi(t))for await(const s of t)e.push(...await li(s));else{const s=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${s?`; constructor: ${s}`:""}${$h(t)}`)}return e}function $h(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(s=>`"${s}"`).join(", ")}]`}class L{constructor(e){this._client=e}}function fc(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ca=Object.freeze(Object.create(null)),kh=(t=fc)=>function(s,...n){if(s.length===1)return s[0];let r=!1;const i=[],o=s.reduce((c,d,g)=>{/[?#]/.test(d)&&(r=!0);const p=n[g];let C=(r?encodeURIComponent:t)(""+p);return g!==n.length&&(p==null||typeof p=="object"&&p.toString===Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??ca)??ca)?.toString)&&(C=p+"",i.push({start:c.length+d.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),c+d+(g===n.length?"":C)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((g,p)=>{const C=" ".repeat(p.start-c),S="^".repeat(p.length);return c=p.start+p.length,g+C+S},"");throw new D(`Path parameters result in path with invalid segments:
${i.map(g=>g.error).join(`
`)}
${o}
${d}`)}return o},v=kh(fc);let dc=class extends L{list(e,s={},n){return this._client.getAPIList(v`/chat/completions/${e}/messages`,he,{query:s,...n})}};function Vn(t){return t!==void 0&&"function"in t&&t.function!==void 0}function ji(t){return t?.$brand==="auto-parseable-response-format"}function sn(t){return t?.$brand==="auto-parseable-tool"}function Ph(t,e){return!e||!hc(e)?{...t,choices:t.choices.map(s=>(pc(s.message.tool_calls),{...s,message:{...s.message,parsed:null,...s.message.tool_calls?{tool_calls:s.message.tool_calls}:void 0}}))}:Ui(t,e)}function Ui(t,e){const s=t.choices.map(n=>{if(n.finish_reason==="length")throw new Xl;if(n.finish_reason==="content_filter")throw new zl;return pc(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(r=>Fh(e,r))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?Mh(e,n.message.content):null}}});return{...t,choices:s}}function Mh(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Fh(t,e){const s=t.tools?.find(n=>Vn(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:sn(s)?s.$parseRaw(e.function.arguments):s?.function.strict?JSON.parse(e.function.arguments):null}}}function Nh(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const s=t.tools?.find(n=>Vn(n)&&n.function?.name===e.function.name);return Vn(s)&&(sn(s)||s?.function.strict||!1)}function hc(t){return ji(t.response_format)?!0:t.tools?.some(e=>sn(e)||e.type==="function"&&e.function.strict===!0)??!1}function pc(t){for(const e of t||[])if(e.type!=="function")throw new D(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function Lh(t){for(const e of t??[]){if(e.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new D(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Kn=t=>t?.role==="assistant",mc=t=>t?.role==="tool";var ci,Cn,An,Rs,Is,Tn,Os,mt,$s,Jn,Xn,is,gc;class Hi{constructor(){ci.add(this),this.controller=new AbortController,Cn.set(this,void 0),An.set(this,()=>{}),Rs.set(this,()=>{}),Is.set(this,void 0),Tn.set(this,()=>{}),Os.set(this,()=>{}),mt.set(this,{}),$s.set(this,!1),Jn.set(this,!1),Xn.set(this,!1),is.set(this,!1),K(this,Cn,new Promise((e,s)=>{K(this,An,e,"f"),K(this,Rs,s,"f")})),K(this,Is,new Promise((e,s)=>{K(this,Tn,e,"f"),K(this,Os,s,"f")})),m(this,Cn,"f").catch(()=>{}),m(this,Is,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},m(this,ci,"m",gc).bind(this))},0)}_connected(){this.ended||(m(this,An,"f").call(this),this._emit("connect"))}get ended(){return m(this,$s,"f")}get errored(){return m(this,Jn,"f")}get aborted(){return m(this,Xn,"f")}abort(){this.controller.abort()}on(e,s){return(m(this,mt,"f")[e]||(m(this,mt,"f")[e]=[])).push({listener:s}),this}off(e,s){const n=m(this,mt,"f")[e];if(!n)return this;const r=n.findIndex(i=>i.listener===s);return r>=0&&n.splice(r,1),this}once(e,s){return(m(this,mt,"f")[e]||(m(this,mt,"f")[e]=[])).push({listener:s,once:!0}),this}emitted(e){return new Promise((s,n)=>{K(this,is,!0),e!=="error"&&this.once("error",n),this.once(e,s)})}async done(){K(this,is,!0),await m(this,Is,"f")}_emit(e,...s){if(m(this,$s,"f"))return;e==="end"&&(K(this,$s,!0),m(this,Tn,"f").call(this));const n=m(this,mt,"f")[e];if(n&&(m(this,mt,"f")[e]=n.filter(r=>!r.once),n.forEach(({listener:r})=>r(...s))),e==="abort"){const r=s[0];!m(this,is,"f")&&!n?.length&&Promise.reject(r),m(this,Rs,"f").call(this,r),m(this,Os,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=s[0];!m(this,is,"f")&&!n?.length&&Promise.reject(r),m(this,Rs,"f").call(this,r),m(this,Os,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Cn=new WeakMap,An=new WeakMap,Rs=new WeakMap,Is=new WeakMap,Tn=new WeakMap,Os=new WeakMap,mt=new WeakMap,$s=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,is=new WeakMap,ci=new WeakSet,gc=function(e){if(K(this,Jn,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Ke),e instanceof Ke)return K(this,Xn,!0),this._emit("abort",e);if(e instanceof D)return this._emit("error",e);if(e instanceof Error){const s=new D(e.message);return s.cause=e,this._emit("error",s)}return this._emit("error",new D(String(e)))};function Dh(t){return typeof t.parse=="function"}var Ae,ui,zn,fi,di,hi,_c,yc;const Bh=10;class bc extends Hi{constructor(){super(...arguments),Ae.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const s=e.choices[0]?.message;return s&&this._addMessage(s),e}_addMessage(e,s=!0){if("content"in e||(e.content=null),this.messages.push(e),s){if(this._emit("message",e),mc(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Kn(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new D("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),m(this,Ae,"m",ui).call(this)}async finalMessage(){return await this.done(),m(this,Ae,"m",zn).call(this)}async finalFunctionToolCall(){return await this.done(),m(this,Ae,"m",fi).call(this)}async finalFunctionToolCallResult(){return await this.done(),m(this,Ae,"m",di).call(this)}async totalUsage(){return await this.done(),m(this,Ae,"m",hi).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const s=m(this,Ae,"m",zn).call(this);s&&this._emit("finalMessage",s);const n=m(this,Ae,"m",ui).call(this);n&&this._emit("finalContent",n);const r=m(this,Ae,"m",fi).call(this);r&&this._emit("finalFunctionToolCall",r);const i=m(this,Ae,"m",di).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",m(this,Ae,"m",hi).call(this))}async _createChatCompletion(e,s,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),m(this,Ae,"m",_c).call(this,s);const i=await e.chat.completions.create({...s,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ui(i,s))}async _runChatCompletion(e,s,n){for(const r of s.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,s,n)}async _runTools(e,s,n){const r="tool",{tool_choice:i="auto",stream:o,...a}=s,l=typeof i!="string"&&i.type==="function"&&i?.function?.name,{maxChatCompletions:u=Bh}=n||{},c=s.tools.map(p=>{if(sn(p)){if(!p.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:p.$callback,name:p.function.name,description:p.function.description||"",parameters:p.function.parameters,parse:p.$parseRaw,strict:!0}}}return p}),d={};for(const p of c)p.type==="function"&&(d[p.function.name||p.function.function.name]=p.function);const g="tools"in s?c.map(p=>p.type==="function"?{type:"function",function:{name:p.function.name||p.function.function.name,parameters:p.function.parameters,description:p.function.description,strict:p.function.strict}}:p):void 0;for(const p of s.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const S=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:g,messages:[...this.messages]},n)).choices[0]?.message;if(!S)throw new D("missing message in ChatCompletion response");if(!S.tool_calls?.length)return;for(const z of S.tool_calls){if(z.type!=="function")continue;const M=z.id,{name:A,arguments:q}=z.function,I=d[A];if(I){if(l&&l!==A){const Q=`Invalid tool_call: ${JSON.stringify(A)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:M,content:Q});continue}}else{const Q=`Invalid tool_call: ${JSON.stringify(A)}. Available options are: ${Object.keys(d).map(N=>JSON.stringify(N)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:M,content:Q});continue}let V;try{V=Dh(I)?await I.parse(q):q}catch(Q){const N=Q instanceof Error?Q.message:String(Q);this._addMessage({role:r,tool_call_id:M,content:N});continue}const T=await I.function(V,this),F=m(this,Ae,"m",yc).call(this,T);if(this._addMessage({role:r,tool_call_id:M,content:F}),l)return}}}}Ae=new WeakSet,ui=function(){return m(this,Ae,"m",zn).call(this).content??null},zn=function(){let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(Kn(s))return{...s,content:s.content??null,refusal:s.refusal??null}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},fi=function(){for(let e=this.messages.length-1;e>=0;e--){const s=this.messages[e];if(Kn(s)&&s?.tool_calls?.length)return s.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},di=function(){for(let e=this.messages.length-1;e>=0;e--){const s=this.messages[e];if(mc(s)&&s.content!=null&&typeof s.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(r=>r.type==="function"&&r.id===s.tool_call_id)))return s.content}},hi=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:s}of this._chatCompletions)s&&(e.completion_tokens+=s.completion_tokens,e.prompt_tokens+=s.prompt_tokens,e.total_tokens+=s.total_tokens);return e},_c=function(e){if(e.n!=null&&e.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},yc=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Wi extends bc{static runTools(e,s,n){const r=new Wi,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,s,i)),r}_addMessage(e,s=!0){super._addMessage(e,s),Kn(e)&&e.content&&this._emit("content",e.content)}}const wc=1,vc=2,xc=4,Sc=8,Cc=16,Ac=32,Tc=64,Ec=128,Rc=256,Ic=Ec|Rc,Oc=Cc|Ac|Ic|Tc,$c=wc|vc|Oc,kc=xc|Sc,jh=$c|kc,_e={STR:wc,NUM:vc,ARR:xc,OBJ:Sc,NULL:Cc,BOOL:Ac,NAN:Tc,INFINITY:Ec,MINUS_INFINITY:Rc,INF:Ic,SPECIAL:Oc,ATOM:$c,COLLECTION:kc,ALL:jh};class Uh extends Error{}class Hh extends Error{}function Wh(t,e=_e.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return qh(t.trim(),e)}const qh=(t,e)=>{const s=t.length;let n=0;const r=g=>{throw new Uh(`${g} at position ${n}`)},i=g=>{throw new Hh(`${g} at position ${n}`)},o=()=>(d(),n>=s&&r("Unexpected end of input"),t[n]==='"'?a():t[n]==="{"?l():t[n]==="["?u():t.substring(n,n+4)==="null"||_e.NULL&e&&s-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||_e.BOOL&e&&s-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||_e.BOOL&e&&s-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||_e.INFINITY&e&&s-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||_e.MINUS_INFINITY&e&&1<s-n&&s-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||_e.NAN&e&&s-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):c()),a=()=>{const g=n;let p=!1;for(n++;n<s&&(t[n]!=='"'||p&&t[n-1]==="\\");)p=t[n]==="\\"?!p:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(g,++n-Number(p)))}catch(C){i(String(C))}else if(_e.STR&e)try{return JSON.parse(t.substring(g,n-Number(p))+'"')}catch{return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{n++,d();const g={};try{for(;t[n]!=="}";){if(d(),n>=s&&_e.OBJ&e)return g;const p=a();d(),n++;try{const C=o();Object.defineProperty(g,p,{value:C,writable:!0,enumerable:!0,configurable:!0})}catch(C){if(_e.OBJ&e)return g;throw C}d(),t[n]===","&&n++}}catch{if(_e.OBJ&e)return g;r("Expected '}' at end of object")}return n++,g},u=()=>{n++;const g=[];try{for(;t[n]!=="]";)g.push(o()),d(),t[n]===","&&n++}catch{if(_e.ARR&e)return g;r("Expected ']' at end of array")}return n++,g},c=()=>{if(n===0){t==="-"&&_e.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(_e.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(p))}}const g=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==s&&!(_e.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(g,n))}catch{t.substring(g,n)==="-"&&_e.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(C){i(String(C))}}},d=()=>{for(;n<s&&` 
\r	`.includes(t[n]);)n++};return o()},ua=t=>Wh(t,_e.ALL^_e.NUM);var pe,pt,Zt,Tt,jr,pn,Ur,Hr,Wr,mn,qr,fa;class Qs extends bc{constructor(e){super(),pe.add(this),pt.set(this,void 0),Zt.set(this,void 0),Tt.set(this,void 0),K(this,pt,e),K(this,Zt,[])}get currentChatCompletionSnapshot(){return m(this,Tt,"f")}static fromReadableStream(e){const s=new Qs(null);return s._run(()=>s._fromReadableStream(e)),s}static createChatCompletion(e,s,n){const r=new Qs(s);return r._run(()=>r._runChatCompletion(e,{...s,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,s,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),m(this,pe,"m",jr).call(this);const i=await e.chat.completions.create({...s,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)m(this,pe,"m",Ur).call(this,o);if(i.controller.signal?.aborted)throw new Ke;return this._addChatCompletion(m(this,pe,"m",mn).call(this))}async _fromReadableStream(e,s){const n=s?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),m(this,pe,"m",jr).call(this),this._connected();const r=lt.fromReadableStream(e,this.controller);let i;for await(const o of r)i&&i!==o.id&&this._addChatCompletion(m(this,pe,"m",mn).call(this)),m(this,pe,"m",Ur).call(this,o),i=o.id;if(r.controller.signal?.aborted)throw new Ke;return this._addChatCompletion(m(this,pe,"m",mn).call(this))}[(pt=new WeakMap,Zt=new WeakMap,Tt=new WeakMap,pe=new WeakSet,jr=function(){this.ended||K(this,Tt,void 0)},pn=function(s){let n=m(this,Zt,"f")[s.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},m(this,Zt,"f")[s.index]=n,n)},Ur=function(s){if(this.ended)return;const n=m(this,pe,"m",fa).call(this,s);this._emit("chunk",s,n);for(const r of s.choices){const i=n.choices[r.index];r.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",r.delta.content,i.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),r.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:i.message.refusal}),r.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:i.logprobs?.content??[]}),r.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});const o=m(this,pe,"m",pn).call(this,i);i.finish_reason&&(m(this,pe,"m",Wr).call(this,i),o.current_tool_call_index!=null&&m(this,pe,"m",Hr).call(this,i,o.current_tool_call_index));for(const a of r.delta.tool_calls??[])o.current_tool_call_index!==a.index&&(m(this,pe,"m",Wr).call(this,i),o.current_tool_call_index!=null&&m(this,pe,"m",Hr).call(this,i,o.current_tool_call_index)),o.current_tool_call_index=a.index;for(const a of r.delta.tool_calls??[]){const l=i.message.tool_calls?.[a.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:a.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(l?.type,void 0))}}},Hr=function(s,n){if(m(this,pe,"m",pn).call(this,s).done_tool_calls.has(n))return;const i=s.message.tool_calls?.[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const o=m(this,pt,"f")?.tools?.find(a=>Vn(a)&&a.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:sn(o)?o.$parseRaw(i.function.arguments):o?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Wr=function(s){const n=m(this,pe,"m",pn).call(this,s);if(s.message.content&&!n.content_done){n.content_done=!0;const r=m(this,pe,"m",qr).call(this);this._emit("content.done",{content:s.message.content,parsed:r?r.$parseRaw(s.message.content):null})}s.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:s.message.refusal})),s.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:s.logprobs.content})),s.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:s.logprobs.refusal}))},mn=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const s=m(this,Tt,"f");if(!s)throw new D("request ended without sending any chunks");return K(this,Tt,void 0),K(this,Zt,[]),Vh(s,m(this,pt,"f"))},qr=function(){const s=m(this,pt,"f")?.response_format;return ji(s)?s:null},fa=function(s){var n,r,i,o;let a=m(this,Tt,"f");const{choices:l,...u}=s;a?Object.assign(a,u):a=K(this,Tt,{...u,choices:[]});for(const{delta:c,finish_reason:d,index:g,logprobs:p=null,...C}of s.choices){let S=a.choices[g];if(S||(S=a.choices[g]={finish_reason:d,index:g,message:{},logprobs:p,...C}),p)if(!S.logprobs)S.logprobs=Object.assign({},p);else{const{content:T,refusal:F,...Q}=p;Object.assign(S.logprobs,Q),T&&((n=S.logprobs).content??(n.content=[]),S.logprobs.content.push(...T)),F&&((r=S.logprobs).refusal??(r.refusal=[]),S.logprobs.refusal.push(...F))}if(d&&(S.finish_reason=d,m(this,pt,"f")&&hc(m(this,pt,"f")))){if(d==="length")throw new Xl;if(d==="content_filter")throw new zl}if(Object.assign(S,C),!c)continue;const{content:z,refusal:M,function_call:A,role:q,tool_calls:I,...V}=c;if(Object.assign(S.message,V),M&&(S.message.refusal=(S.message.refusal||"")+M),q&&(S.message.role=q),A&&(S.message.function_call?(A.name&&(S.message.function_call.name=A.name),A.arguments&&((i=S.message.function_call).arguments??(i.arguments=""),S.message.function_call.arguments+=A.arguments)):S.message.function_call=A),z&&(S.message.content=(S.message.content||"")+z,!S.message.refusal&&m(this,pe,"m",qr).call(this)&&(S.message.parsed=ua(S.message.content))),I){S.message.tool_calls||(S.message.tool_calls=[]);for(const{index:T,id:F,type:Q,function:N,...B}of I){const J=(o=S.message.tool_calls)[T]??(o[T]={});Object.assign(J,B),F&&(J.id=F),Q&&(J.type=Q),N&&(J.function??(J.function={name:N.name??"",arguments:""})),N?.name&&(J.function.name=N.name),N?.arguments&&(J.function.arguments+=N.arguments,Nh(m(this,pt,"f"),J)&&(J.function.parsed_arguments=ua(J.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("chunk",r=>{const i=s.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{n=!0;for(const r of s)r.resolve(void 0);s.length=0}),this.on("abort",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),this.on("error",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new lt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Vh(t,e){const{id:s,choices:n,created:r,model:i,system_fingerprint:o,...a}=t,l={...a,id:s,choices:n.map(({message:u,finish_reason:c,index:d,logprobs:g,...p})=>{if(!c)throw new D(`missing finish_reason for choice ${d}`);const{content:C=null,function_call:S,tool_calls:z,...M}=u,A=u.role;if(!A)throw new D(`missing role for choice ${d}`);if(S){const{arguments:q,name:I}=S;if(q==null)throw new D(`missing function_call.arguments for choice ${d}`);if(!I)throw new D(`missing function_call.name for choice ${d}`);return{...p,message:{content:C,function_call:{arguments:q,name:I},role:A,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:g}}return z?{...p,index:d,finish_reason:c,logprobs:g,message:{...M,role:A,content:C,refusal:u.refusal??null,tool_calls:z.map((q,I)=>{const{function:V,type:T,id:F,...Q}=q,{arguments:N,name:B,...J}=V||{};if(F==null)throw new D(`missing choices[${d}].tool_calls[${I}].id
${gn(t)}`);if(T==null)throw new D(`missing choices[${d}].tool_calls[${I}].type
${gn(t)}`);if(B==null)throw new D(`missing choices[${d}].tool_calls[${I}].function.name
${gn(t)}`);if(N==null)throw new D(`missing choices[${d}].tool_calls[${I}].function.arguments
${gn(t)}`);return{...Q,id:F,type:T,function:{...J,name:B,arguments:N}}})}}:{...p,message:{...M,content:C,role:A,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:g}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return Ph(l,e)}function gn(t){return JSON.stringify(t)}class Gn extends Qs{static fromReadableStream(e){const s=new Gn(null);return s._run(()=>s._fromReadableStream(e)),s}static runTools(e,s,n){const r=new Gn(s),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,s,i)),r}}let qi=class extends L{constructor(){super(...arguments),this.messages=new dc(this._client)}create(e,s){return this._client.post("/chat/completions",{body:e,...s,stream:e.stream??!1})}retrieve(e,s){return this._client.get(v`/chat/completions/${e}`,s)}update(e,s,n){return this._client.post(v`/chat/completions/${e}`,{body:s,...n})}list(e={},s){return this._client.getAPIList("/chat/completions",he,{query:e,...s})}delete(e,s){return this._client.delete(v`/chat/completions/${e}`,s)}parse(e,s){return Lh(e.tools),this._client.chat.completions.create(e,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>Ui(n,e))}runTools(e,s){return e.stream?Gn.runTools(this._client,e,s):Wi.runTools(this._client,e,s)}stream(e,s){return Qs.createChatCompletion(this._client,e,s)}};qi.Messages=dc;class Vi extends L{constructor(){super(...arguments),this.completions=new qi(this._client)}}Vi.Completions=qi;const Pc=Symbol("brand.privateNullableHeaders");function*Kh(t){if(!t)return;if(Pc in t){const{values:n,nulls:r}=t;yield*n.entries();for(const i of r)yield[i,null];return}let e=!1,s;t instanceof Headers?s=t.entries():zo(t)?s=t:(e=!0,s=Object.entries(t??{}));for(let n of s){const r=n[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=zo(n[1])?n[1]:[n[1]];let o=!1;for(const a of i)a!==void 0&&(e&&!o&&(o=!0,yield[r,null]),yield[r,a])}}const P=t=>{const e=new Headers,s=new Set;for(const n of t){const r=new Set;for(const[i,o]of Kh(n)){const a=i.toLowerCase();r.has(a)||(e.delete(i),r.add(a)),o===null?(e.delete(i),s.add(a)):(e.append(i,o),s.delete(a))}}return{[Pc]:!0,values:e,nulls:s}};class Mc extends L{create(e,s){return this._client.post("/audio/speech",{body:e,...s,headers:P([{Accept:"application/octet-stream"},s?.headers]),__binaryResponse:!0})}}class Fc extends L{create(e,s){return this._client.post("/audio/transcriptions",Gt({body:e,...s,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Nc extends L{create(e,s){return this._client.post("/audio/translations",Gt({body:e,...s,__metadata:{model:e.model}},this._client))}}class nn extends L{constructor(){super(...arguments),this.transcriptions=new Fc(this._client),this.translations=new Nc(this._client),this.speech=new Mc(this._client)}}nn.Transcriptions=Fc;nn.Translations=Nc;nn.Speech=Mc;class Lc extends L{create(e,s){return this._client.post("/batches",{body:e,...s})}retrieve(e,s){return this._client.get(v`/batches/${e}`,s)}list(e={},s){return this._client.getAPIList("/batches",he,{query:e,...s})}cancel(e,s){return this._client.post(v`/batches/${e}/cancel`,s)}}class Dc extends L{create(e,s){return this._client.post("/assistants",{body:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,s){return this._client.get(v`/assistants/${e}`,{...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,s,n){return this._client.post(v`/assistants/${e}`,{body:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},s){return this._client.getAPIList("/assistants",he,{query:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,s){return this._client.delete(v`/assistants/${e}`,{...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}let Bc=class extends L{create(e,s){return this._client.post("/realtime/sessions",{body:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}};class jc extends L{create(e,s){return this._client.post("/realtime/transcription_sessions",{body:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}}let gr=class extends L{constructor(){super(...arguments),this.sessions=new Bc(this._client),this.transcriptionSessions=new jc(this._client)}};gr.Sessions=Bc;gr.TranscriptionSessions=jc;class Uc extends L{create(e,s){return this._client.post("/chatkit/sessions",{body:e,...s,headers:P([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}cancel(e,s){return this._client.post(v`/chatkit/sessions/${e}/cancel`,{...s,headers:P([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}}let Hc=class extends L{retrieve(e,s){return this._client.get(v`/chatkit/threads/${e}`,{...s,headers:P([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}list(e={},s){return this._client.getAPIList("/chatkit/threads",qn,{query:e,...s,headers:P([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}delete(e,s){return this._client.delete(v`/chatkit/threads/${e}`,{...s,headers:P([{"OpenAI-Beta":"chatkit_beta=v1"},s?.headers])})}listItems(e,s={},n){return this._client.getAPIList(v`/chatkit/threads/${e}/items`,qn,{query:s,...n,headers:P([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}};class _r extends L{constructor(){super(...arguments),this.sessions=new Uc(this._client),this.threads=new Hc(this._client)}}_r.Sessions=Uc;_r.Threads=Hc;class Wc extends L{create(e,s,n){return this._client.post(v`/threads/${e}/messages`,{body:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,s,n){const{thread_id:r}=s;return this._client.get(v`/threads/${r}/messages/${e}`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,s,n){const{thread_id:r,...i}=s;return this._client.post(v`/threads/${r}/messages/${e}`,{body:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s={},n){return this._client.getAPIList(v`/threads/${e}/messages`,he,{query:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,s,n){const{thread_id:r}=s;return this._client.delete(v`/threads/${r}/messages/${e}`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class qc extends L{retrieve(e,s,n){const{thread_id:r,run_id:i,...o}=s;return this._client.get(v`/threads/${r}/runs/${i}/steps/${e}`,{query:o,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s,n){const{thread_id:r,...i}=s;return this._client.getAPIList(v`/threads/${r}/runs/${e}/steps`,he,{query:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}const Jh=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),s=e.length,n=new Uint8Array(s);for(let r=0;r<s;r++)n[r]=e.charCodeAt(r);return Array.from(new Float32Array(n.buffer))}};var Xh={};const es=t=>{if(typeof globalThis.process<"u")return Xh?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var be,Kt,pi,ot,En,Xe,Jt,as,Vt,Qn,je,Rn,In,Hs,ks,Ps,da,ha,pa,ma,ga,_a,ya;class Ws extends Hi{constructor(){super(...arguments),be.add(this),pi.set(this,[]),ot.set(this,{}),En.set(this,{}),Xe.set(this,void 0),Jt.set(this,void 0),as.set(this,void 0),Vt.set(this,void 0),Qn.set(this,void 0),je.set(this,void 0),Rn.set(this,void 0),In.set(this,void 0),Hs.set(this,void 0)}[(pi=new WeakMap,ot=new WeakMap,En=new WeakMap,Xe=new WeakMap,Jt=new WeakMap,as=new WeakMap,Vt=new WeakMap,Qn=new WeakMap,je=new WeakMap,Rn=new WeakMap,In=new WeakMap,Hs=new WeakMap,be=new WeakSet,Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("event",r=>{const i=s.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{n=!0;for(const r of s)r.resolve(void 0);s.length=0}),this.on("abort",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),this.on("error",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const s=new Kt;return s._run(()=>s._fromReadableStream(e)),s}async _fromReadableStream(e,s){const n=s?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=lt.fromReadableStream(e,this.controller);for await(const i of r)m(this,be,"m",ks).call(this,i);if(r.controller.signal?.aborted)throw new Ke;return this._addRun(m(this,be,"m",Ps).call(this))}toReadableStream(){return new lt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,s,n,r){const i=new Kt;return i._run(()=>i._runToolAssistantStream(e,s,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,s,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},a=await e.submitToolOutputs(s,o,{...r,signal:this.controller.signal});this._connected();for await(const l of a)m(this,be,"m",ks).call(this,l);if(a.controller.signal?.aborted)throw new Ke;return this._addRun(m(this,be,"m",Ps).call(this))}static createThreadAssistantStream(e,s,n){const r=new Kt;return r._run(()=>r._threadAssistantStream(e,s,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,s,n,r){const i=new Kt;return i._run(()=>i._runAssistantStream(e,s,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return m(this,Rn,"f")}currentRun(){return m(this,In,"f")}currentMessageSnapshot(){return m(this,Xe,"f")}currentRunStepSnapshot(){return m(this,Hs,"f")}async finalRunSteps(){return await this.done(),Object.values(m(this,ot,"f"))}async finalMessages(){return await this.done(),Object.values(m(this,En,"f"))}async finalRun(){if(await this.done(),!m(this,Jt,"f"))throw Error("Final run was not received.");return m(this,Jt,"f")}async _createThreadAssistantStream(e,s,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...s,stream:!0},o=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const a of o)m(this,be,"m",ks).call(this,a);if(o.controller.signal?.aborted)throw new Ke;return this._addRun(m(this,be,"m",Ps).call(this))}async _createAssistantStream(e,s,n,r){const i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},a=await e.create(s,o,{...r,signal:this.controller.signal});this._connected();for await(const l of a)m(this,be,"m",ks).call(this,l);if(a.controller.signal?.aborted)throw new Ke;return this._addRun(m(this,be,"m",Ps).call(this))}static accumulateDelta(e,s){for(const[n,r]of Object.entries(s)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let i=e[n];if(i==null){e[n]=r;continue}if(n==="index"||n==="type"){e[n]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(Lr(i)&&Lr(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}for(const o of r){if(!Lr(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${i}`);e[n]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,s,n){return await this._createThreadAssistantStream(s,e,n)}async _runAssistantStream(e,s,n,r){return await this._createAssistantStream(s,e,n,r)}async _runToolAssistantStream(e,s,n,r){return await this._createToolAssistantStream(s,e,n,r)}}Kt=Ws,ks=function(e){if(!this.ended)switch(K(this,Rn,e),m(this,be,"m",pa).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":m(this,be,"m",ya).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":m(this,be,"m",ha).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":m(this,be,"m",da).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ps=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!m(this,Jt,"f"))throw Error("Final run has not been received");return m(this,Jt,"f")},da=function(e){const[s,n]=m(this,be,"m",ga).call(this,e,m(this,Xe,"f"));K(this,Xe,s),m(this,En,"f")[s.id]=s;for(const r of n){const i=s.content[r.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,s),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=s.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=m(this,as,"f")){if(m(this,Vt,"f"))switch(m(this,Vt,"f").type){case"text":this._emit("textDone",m(this,Vt,"f").text,m(this,Xe,"f"));break;case"image_file":this._emit("imageFileDone",m(this,Vt,"f").image_file,m(this,Xe,"f"));break}K(this,as,r.index)}K(this,Vt,s.content[r.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(m(this,as,"f")!==void 0){const r=e.data.content[m(this,as,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,m(this,Xe,"f"));break;case"text":this._emit("textDone",r.text,m(this,Xe,"f"));break}}m(this,Xe,"f")&&this._emit("messageDone",e.data),K(this,Xe,void 0)}},ha=function(e){const s=m(this,be,"m",ma).call(this,e);switch(K(this,Hs,s),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&s.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==m(this,Qn,"f")?this._emit("toolCallDelta",i,s.step_details.tool_calls[i.index]):(m(this,je,"f")&&this._emit("toolCallDone",m(this,je,"f")),K(this,Qn,i.index),K(this,je,s.step_details.tool_calls[i.index]),m(this,je,"f")&&this._emit("toolCallCreated",m(this,je,"f")));this._emit("runStepDelta",e.data.delta,s);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":K(this,Hs,void 0),e.data.step_details.type=="tool_calls"&&m(this,je,"f")&&(this._emit("toolCallDone",m(this,je,"f")),K(this,je,void 0)),this._emit("runStepDone",e.data,s);break}},pa=function(e){m(this,pi,"f").push(e),this._emit("event",e)},ma=function(e){switch(e.event){case"thread.run.step.created":return m(this,ot,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let s=m(this,ot,"f")[e.data.id];if(!s)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=Kt.accumulateDelta(s,n.delta);m(this,ot,"f")[e.data.id]=r}return m(this,ot,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":m(this,ot,"f")[e.data.id]=e.data;break}if(m(this,ot,"f")[e.data.id])return m(this,ot,"f")[e.data.id];throw new Error("No snapshot available")},ga=function(e,s){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!s)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in s.content){let o=s.content[i.index];s.content[i.index]=m(this,be,"m",_a).call(this,i,o)}else s.content[i.index]=i,n.push(i);return[s,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(s)return[s,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_a=function(e,s){return Kt.accumulateDelta(s,e)},ya=function(e){switch(K(this,In,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":K(this,Jt,e.data),m(this,je,"f")&&(this._emit("toolCallDone",m(this,je,"f")),K(this,je,void 0));break}};let Ki=class extends L{constructor(){super(...arguments),this.steps=new qc(this._client)}create(e,s,n){const{include:r,...i}=s;return this._client.post(v`/threads/${e}/runs`,{query:{include:r},body:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:s.stream??!1})}retrieve(e,s,n){const{thread_id:r}=s;return this._client.get(v`/threads/${r}/runs/${e}`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,s,n){const{thread_id:r,...i}=s;return this._client.post(v`/threads/${r}/runs/${e}`,{body:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s={},n){return this._client.getAPIList(v`/threads/${e}/runs`,he,{query:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,s,n){const{thread_id:r}=s;return this._client.post(v`/threads/${r}/runs/${e}/cancel`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,s,n){const r=await this.create(e,s,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,s,n){return Ws.createAssistantStream(e,this._client.beta.threads.runs,s,n)}async poll(e,s,n){const r=P([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:o}=await this.retrieve(e,s,{...n,headers:{...n?.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await tn(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,s,n){return Ws.createAssistantStream(e,this._client.beta.threads.runs,s,n)}submitToolOutputs(e,s,n){const{thread_id:r,...i}=s;return this._client.post(v`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:s.stream??!1})}async submitToolOutputsAndPoll(e,s,n){const r=await this.submitToolOutputs(e,s,n);return await this.poll(r.id,s,n)}submitToolOutputsStream(e,s,n){return Ws.createToolAssistantStream(e,this._client.beta.threads.runs,s,n)}};Ki.Steps=qc;class yr extends L{constructor(){super(...arguments),this.runs=new Ki(this._client),this.messages=new Wc(this._client)}create(e={},s){return this._client.post("/threads",{body:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,s){return this._client.get(v`/threads/${e}`,{...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,s,n){return this._client.post(v`/threads/${e}`,{body:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,s){return this._client.delete(v`/threads/${e}`,{...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}createAndRun(e,s){return this._client.post("/threads/runs",{body:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,s){const n=await this.createAndRun(e,s);return await this.runs.poll(n.id,{thread_id:n.thread_id},s)}createAndRunStream(e,s){return Ws.createThreadAssistantStream(e,this._client.beta.threads,s)}}yr.Runs=Ki;yr.Messages=Wc;class ps extends L{constructor(){super(...arguments),this.realtime=new gr(this._client),this.chatkit=new _r(this._client),this.assistants=new Dc(this._client),this.threads=new yr(this._client)}}ps.Realtime=gr;ps.ChatKit=_r;ps.Assistants=Dc;ps.Threads=yr;class Vc extends L{create(e,s){return this._client.post("/completions",{body:e,...s,stream:e.stream??!1})}}class Kc extends L{retrieve(e,s,n){const{container_id:r}=s;return this._client.get(v`/containers/${r}/files/${e}/content`,{...n,headers:P([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}let Ji=class extends L{constructor(){super(...arguments),this.content=new Kc(this._client)}create(e,s,n){return this._client.post(v`/containers/${e}/files`,Gt({body:s,...n},this._client))}retrieve(e,s,n){const{container_id:r}=s;return this._client.get(v`/containers/${r}/files/${e}`,n)}list(e,s={},n){return this._client.getAPIList(v`/containers/${e}/files`,he,{query:s,...n})}delete(e,s,n){const{container_id:r}=s;return this._client.delete(v`/containers/${r}/files/${e}`,{...n,headers:P([{Accept:"*/*"},n?.headers])})}};Ji.Content=Kc;class Xi extends L{constructor(){super(...arguments),this.files=new Ji(this._client)}create(e,s){return this._client.post("/containers",{body:e,...s})}retrieve(e,s){return this._client.get(v`/containers/${e}`,s)}list(e={},s){return this._client.getAPIList("/containers",he,{query:e,...s})}delete(e,s){return this._client.delete(v`/containers/${e}`,{...s,headers:P([{Accept:"*/*"},s?.headers])})}}Xi.Files=Ji;class Jc extends L{create(e,s,n){const{include:r,...i}=s;return this._client.post(v`/conversations/${e}/items`,{query:{include:r},body:i,...n})}retrieve(e,s,n){const{conversation_id:r,...i}=s;return this._client.get(v`/conversations/${r}/items/${e}`,{query:i,...n})}list(e,s={},n){return this._client.getAPIList(v`/conversations/${e}/items`,qn,{query:s,...n})}delete(e,s,n){const{conversation_id:r}=s;return this._client.delete(v`/conversations/${r}/items/${e}`,n)}}class zi extends L{constructor(){super(...arguments),this.items=new Jc(this._client)}create(e={},s){return this._client.post("/conversations",{body:e,...s})}retrieve(e,s){return this._client.get(v`/conversations/${e}`,s)}update(e,s,n){return this._client.post(v`/conversations/${e}`,{body:s,...n})}delete(e,s){return this._client.delete(v`/conversations/${e}`,s)}}zi.Items=Jc;class Xc extends L{create(e,s){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&ye(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:r},...s});return n?i:(ye(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=Jh(l)}),o)))}}class zc extends L{retrieve(e,s,n){const{eval_id:r,run_id:i}=s;return this._client.get(v`/evals/${r}/runs/${i}/output_items/${e}`,n)}list(e,s,n){const{eval_id:r,...i}=s;return this._client.getAPIList(v`/evals/${r}/runs/${e}/output_items`,he,{query:i,...n})}}class Gi extends L{constructor(){super(...arguments),this.outputItems=new zc(this._client)}create(e,s,n){return this._client.post(v`/evals/${e}/runs`,{body:s,...n})}retrieve(e,s,n){const{eval_id:r}=s;return this._client.get(v`/evals/${r}/runs/${e}`,n)}list(e,s={},n){return this._client.getAPIList(v`/evals/${e}/runs`,he,{query:s,...n})}delete(e,s,n){const{eval_id:r}=s;return this._client.delete(v`/evals/${r}/runs/${e}`,n)}cancel(e,s,n){const{eval_id:r}=s;return this._client.post(v`/evals/${r}/runs/${e}`,n)}}Gi.OutputItems=zc;class Qi extends L{constructor(){super(...arguments),this.runs=new Gi(this._client)}create(e,s){return this._client.post("/evals",{body:e,...s})}retrieve(e,s){return this._client.get(v`/evals/${e}`,s)}update(e,s,n){return this._client.post(v`/evals/${e}`,{body:s,...n})}list(e={},s){return this._client.getAPIList("/evals",he,{query:e,...s})}delete(e,s){return this._client.delete(v`/evals/${e}`,s)}}Qi.Runs=Gi;let Gc=class extends L{create(e,s){return this._client.post("/files",Gt({body:e,...s},this._client))}retrieve(e,s){return this._client.get(v`/files/${e}`,s)}list(e={},s){return this._client.getAPIList("/files",he,{query:e,...s})}delete(e,s){return this._client.delete(v`/files/${e}`,s)}content(e,s){return this._client.get(v`/files/${e}/content`,{...s,headers:P([{Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:s=5e3,maxWait:n=1800*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await tn(s),o=await this.retrieve(e),Date.now()-i>n)throw new Ni({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}};class Qc extends L{}let Yc=class extends L{run(e,s){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...s})}validate(e,s){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...s})}};class Yi extends L{constructor(){super(...arguments),this.graders=new Yc(this._client)}}Yi.Graders=Yc;class Zc extends L{create(e,s,n){return this._client.getAPIList(v`/fine_tuning/checkpoints/${e}/permissions`,mr,{body:s,method:"post",...n})}retrieve(e,s={},n){return this._client.get(v`/fine_tuning/checkpoints/${e}/permissions`,{query:s,...n})}delete(e,s,n){const{fine_tuned_model_checkpoint:r}=s;return this._client.delete(v`/fine_tuning/checkpoints/${r}/permissions/${e}`,n)}}let Zi=class extends L{constructor(){super(...arguments),this.permissions=new Zc(this._client)}};Zi.Permissions=Zc;class eu extends L{list(e,s={},n){return this._client.getAPIList(v`/fine_tuning/jobs/${e}/checkpoints`,he,{query:s,...n})}}class eo extends L{constructor(){super(...arguments),this.checkpoints=new eu(this._client)}create(e,s){return this._client.post("/fine_tuning/jobs",{body:e,...s})}retrieve(e,s){return this._client.get(v`/fine_tuning/jobs/${e}`,s)}list(e={},s){return this._client.getAPIList("/fine_tuning/jobs",he,{query:e,...s})}cancel(e,s){return this._client.post(v`/fine_tuning/jobs/${e}/cancel`,s)}listEvents(e,s={},n){return this._client.getAPIList(v`/fine_tuning/jobs/${e}/events`,he,{query:s,...n})}pause(e,s){return this._client.post(v`/fine_tuning/jobs/${e}/pause`,s)}resume(e,s){return this._client.post(v`/fine_tuning/jobs/${e}/resume`,s)}}eo.Checkpoints=eu;class ms extends L{constructor(){super(...arguments),this.methods=new Qc(this._client),this.jobs=new eo(this._client),this.checkpoints=new Zi(this._client),this.alpha=new Yi(this._client)}}ms.Methods=Qc;ms.Jobs=eo;ms.Checkpoints=Zi;ms.Alpha=Yi;class tu extends L{}class to extends L{constructor(){super(...arguments),this.graderModels=new tu(this._client)}}to.GraderModels=tu;class su extends L{createVariation(e,s){return this._client.post("/images/variations",Gt({body:e,...s},this._client))}edit(e,s){return this._client.post("/images/edits",Gt({body:e,...s,stream:e.stream??!1},this._client))}generate(e,s){return this._client.post("/images/generations",{body:e,...s,stream:e.stream??!1})}}class nu extends L{retrieve(e,s){return this._client.get(v`/models/${e}`,s)}list(e){return this._client.getAPIList("/models",mr,e)}delete(e,s){return this._client.delete(v`/models/${e}`,s)}}class ru extends L{create(e,s){return this._client.post("/moderations",{body:e,...s})}}class iu extends L{accept(e,s,n){return this._client.post(v`/realtime/calls/${e}/accept`,{body:s,...n,headers:P([{Accept:"*/*"},n?.headers])})}hangup(e,s){return this._client.post(v`/realtime/calls/${e}/hangup`,{...s,headers:P([{Accept:"*/*"},s?.headers])})}refer(e,s,n){return this._client.post(v`/realtime/calls/${e}/refer`,{body:s,...n,headers:P([{Accept:"*/*"},n?.headers])})}reject(e,s={},n){return this._client.post(v`/realtime/calls/${e}/reject`,{body:s,...n,headers:P([{Accept:"*/*"},n?.headers])})}}class ou extends L{create(e,s){return this._client.post("/realtime/client_secrets",{body:e,...s})}}class br extends L{constructor(){super(...arguments),this.clientSecrets=new ou(this._client),this.calls=new iu(this._client)}}br.ClientSecrets=ou;br.Calls=iu;function zh(t,e){return!e||!Qh(e)?{...t,output_parsed:null,output:t.output.map(s=>s.type==="function_call"?{...s,parsed_arguments:null}:s.type==="message"?{...s,content:s.content.map(n=>({...n,parsed:null}))}:s)}:au(t,e)}function au(t,e){const s=t.output.map(r=>{if(r.type==="function_call")return{...r,parsed_arguments:ep(e,r)};if(r.type==="message"){const i=r.content.map(o=>o.type==="output_text"?{...o,parsed:Gh(e,o.text)}:o);return{...r,content:i}}return r}),n=Object.assign({},t,{output:s});return Object.getOwnPropertyDescriptor(t,"output_text")||mi(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const r of n.output)if(r.type==="message"){for(const i of r.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),n}function Gh(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Qh(t){return!!ji(t.text?.format)}function Yh(t){return t?.$brand==="auto-parseable-tool"}function Zh(t,e){return t.find(s=>s.type==="function"&&s.name===e)}function ep(t,e){const s=Zh(t.tools??[],e.name);return{...e,...e,parsed_arguments:Yh(s)?s.$parseRaw(e.arguments):s?.strict?JSON.parse(e.arguments):null}}function mi(t){const e=[];for(const s of t.output)if(s.type==="message")for(const n of s.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}var ts,_n,Et,yn,ba,wa,va,xa;class so extends Hi{constructor(e){super(),ts.add(this),_n.set(this,void 0),Et.set(this,void 0),yn.set(this,void 0),K(this,_n,e)}static createResponse(e,s,n){const r=new so(s);return r._run(()=>r._createOrRetrieveResponse(e,s,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createOrRetrieveResponse(e,s,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),m(this,ts,"m",ba).call(this);let i,o=null;"response_id"in s?(i=await e.responses.retrieve(s.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),o=s.starting_after??null):i=await e.responses.create({...s,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const a of i)m(this,ts,"m",wa).call(this,a,o);if(i.controller.signal?.aborted)throw new Ke;return m(this,ts,"m",va).call(this)}[(_n=new WeakMap,Et=new WeakMap,yn=new WeakMap,ts=new WeakSet,ba=function(){this.ended||K(this,Et,void 0)},wa=function(s,n){if(this.ended)return;const r=(o,a)=>{(n==null||a.sequence_number>n)&&this._emit(o,a)},i=m(this,ts,"m",xa).call(this,s);switch(r("event",s),s.type){case"response.output_text.delta":{const o=i.output[s.output_index];if(!o)throw new D(`missing output at index ${s.output_index}`);if(o.type==="message"){const a=o.content[s.content_index];if(!a)throw new D(`missing content at index ${s.content_index}`);if(a.type!=="output_text")throw new D(`expected content to be 'output_text', got ${a.type}`);r("response.output_text.delta",{...s,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=i.output[s.output_index];if(!o)throw new D(`missing output at index ${s.output_index}`);o.type==="function_call"&&r("response.function_call_arguments.delta",{...s,snapshot:o.arguments});break}default:r(s.type,s);break}},va=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const s=m(this,Et,"f");if(!s)throw new D("request ended without sending any events");K(this,Et,void 0);const n=tp(s,m(this,_n,"f"));return K(this,yn,n),n},xa=function(s){let n=m(this,Et,"f");if(!n){if(s.type!=="response.created")throw new D(`When snapshot hasn't been set yet, expected 'response.created' event, got ${s.type}`);return n=K(this,Et,s.response),n}switch(s.type){case"response.output_item.added":{n.output.push(s.item);break}case"response.content_part.added":{const r=n.output[s.output_index];if(!r)throw new D(`missing output at index ${s.output_index}`);const i=r.type,o=s.part;i==="message"&&o.type!=="reasoning_text"?r.content.push(o):i==="reasoning"&&o.type==="reasoning_text"&&(r.content||(r.content=[]),r.content.push(o));break}case"response.output_text.delta":{const r=n.output[s.output_index];if(!r)throw new D(`missing output at index ${s.output_index}`);if(r.type==="message"){const i=r.content[s.content_index];if(!i)throw new D(`missing content at index ${s.content_index}`);if(i.type!=="output_text")throw new D(`expected content to be 'output_text', got ${i.type}`);i.text+=s.delta}break}case"response.function_call_arguments.delta":{const r=n.output[s.output_index];if(!r)throw new D(`missing output at index ${s.output_index}`);r.type==="function_call"&&(r.arguments+=s.delta);break}case"response.reasoning_text.delta":{const r=n.output[s.output_index];if(!r)throw new D(`missing output at index ${s.output_index}`);if(r.type==="reasoning"){const i=r.content?.[s.content_index];if(!i)throw new D(`missing content at index ${s.content_index}`);if(i.type!=="reasoning_text")throw new D(`expected content to be 'reasoning_text', got ${i.type}`);i.text+=s.delta}break}case"response.completed":{K(this,Et,s.response);break}}return n},Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("event",r=>{const i=s.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{n=!0;for(const r of s)r.resolve(void 0);s.length=0}),this.on("abort",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),this.on("error",r=>{n=!0;for(const i of s)i.reject(r);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=m(this,yn,"f");if(!e)throw new D("stream ended without producing a ChatCompletion");return e}}function tp(t,e){return zh(t,e)}class lu extends L{list(e,s={},n){return this._client.getAPIList(v`/responses/${e}/input_items`,he,{query:s,...n})}}class cu extends L{count(e={},s){return this._client.post("/responses/input_tokens",{body:e,...s})}}class wr extends L{constructor(){super(...arguments),this.inputItems=new lu(this._client),this.inputTokens=new cu(this._client)}create(e,s){return this._client.post("/responses",{body:e,...s,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&mi(n),n))}retrieve(e,s={},n){return this._client.get(v`/responses/${e}`,{query:s,...n,stream:s?.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&mi(r),r))}delete(e,s){return this._client.delete(v`/responses/${e}`,{...s,headers:P([{Accept:"*/*"},s?.headers])})}parse(e,s){return this._client.responses.create(e,s)._thenUnwrap(n=>au(n,e))}stream(e,s){return so.createResponse(this._client,e,s)}cancel(e,s){return this._client.post(v`/responses/${e}/cancel`,s)}compact(e,s){return this._client.post("/responses/compact",{body:e,...s})}}wr.InputItems=lu;wr.InputTokens=cu;class uu extends L{create(e,s,n){return this._client.post(v`/uploads/${e}/parts`,Gt({body:s,...n},this._client))}}class no extends L{constructor(){super(...arguments),this.parts=new uu(this._client)}create(e,s){return this._client.post("/uploads",{body:e,...s})}cancel(e,s){return this._client.post(v`/uploads/${e}/cancel`,s)}complete(e,s,n){return this._client.post(v`/uploads/${e}/complete`,{body:s,...n})}}no.Parts=uu;const sp=async t=>{const e=await Promise.allSettled(t),s=e.filter(r=>r.status==="rejected");if(s.length){for(const r of s)console.error(r.reason);throw new Error(`${s.length} promise(s) failed - see the above errors`)}const n=[];for(const r of e)r.status==="fulfilled"&&n.push(r.value);return n};class fu extends L{create(e,s,n){return this._client.post(v`/vector_stores/${e}/file_batches`,{body:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,s,n){const{vector_store_id:r}=s;return this._client.get(v`/vector_stores/${r}/file_batches/${e}`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,s,n){const{vector_store_id:r}=s;return this._client.post(v`/vector_stores/${r}/file_batches/${e}/cancel`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,s,n){const r=await this.create(e,s);return await this.poll(e,r.id,n)}listFiles(e,s,n){const{vector_store_id:r,...i}=s;return this._client.getAPIList(v`/vector_stores/${r}/file_batches/${e}/files`,he,{query:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,s,n){const r=P([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:i,response:o}=await this.retrieve(s,{vector_store_id:e},{...n,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await tn(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:s,fileIds:n=[]},r){if(s==null||s.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=r?.maxConcurrency??5,o=Math.min(i,s.length),a=this._client,l=s.values(),u=[...n];async function c(g){for(let p of g){const C=await a.files.create({file:p,purpose:"assistants"},r);u.push(C.id)}}const d=Array(o).fill(l).map(c);return await sp(d),await this.createAndPoll(e,{file_ids:u})}}class du extends L{create(e,s,n){return this._client.post(v`/vector_stores/${e}/files`,{body:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,s,n){const{vector_store_id:r}=s;return this._client.get(v`/vector_stores/${r}/files/${e}`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,s,n){const{vector_store_id:r,...i}=s;return this._client.post(v`/vector_stores/${r}/files/${e}`,{body:i,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,s={},n){return this._client.getAPIList(v`/vector_stores/${e}/files`,he,{query:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,s,n){const{vector_store_id:r}=s;return this._client.delete(v`/vector_stores/${r}/files/${e}`,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,s,n){const r=await this.create(e,s,n);return await this.poll(e,r.id,n)}async poll(e,s,n){const r=P([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const i=await this.retrieve(s,{vector_store_id:e},{...n,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await tn(a);break;case"failed":case"completed":return o}}}async upload(e,s,n){const r=await this._client.files.create({file:s,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,s,n){const r=await this.upload(e,s,n);return await this.poll(e,r.id,n)}content(e,s,n){const{vector_store_id:r}=s;return this._client.getAPIList(v`/vector_stores/${r}/files/${e}/content`,mr,{...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class vr extends L{constructor(){super(...arguments),this.files=new du(this._client),this.fileBatches=new fu(this._client)}create(e,s){return this._client.post("/vector_stores",{body:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}retrieve(e,s){return this._client.get(v`/vector_stores/${e}`,{...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}update(e,s,n){return this._client.post(v`/vector_stores/${e}`,{body:s,...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},s){return this._client.getAPIList("/vector_stores",he,{query:e,...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}delete(e,s){return this._client.delete(v`/vector_stores/${e}`,{...s,headers:P([{"OpenAI-Beta":"assistants=v2"},s?.headers])})}search(e,s,n){return this._client.getAPIList(v`/vector_stores/${e}/search`,mr,{body:s,method:"post",...n,headers:P([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}vr.Files=du;vr.FileBatches=fu;class hu extends L{create(e,s){return this._client.post("/videos",aa({body:e,...s},this._client))}retrieve(e,s){return this._client.get(v`/videos/${e}`,s)}list(e={},s){return this._client.getAPIList("/videos",qn,{query:e,...s})}delete(e,s){return this._client.delete(v`/videos/${e}`,s)}downloadContent(e,s={},n){return this._client.get(v`/videos/${e}/content`,{query:s,...n,headers:P([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,s,n){return this._client.post(v`/videos/${e}/remix`,aa({body:s,...n},this._client))}}var os,pu,On;class mu extends L{constructor(){super(...arguments),os.add(this)}async unwrap(e,s,n=this._client.webhookSecret,r=300){return await this.verifySignature(e,s,n,r),JSON.parse(e)}async verifySignature(e,s,n=this._client.webhookSecret,r=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");m(this,os,"m",pu).call(this,n);const i=P([s]).values,o=m(this,os,"m",On).call(this,i,"webhook-signature"),a=m(this,os,"m",On).call(this,i,"webhook-timestamp"),l=m(this,os,"m",On).call(this,i,"webhook-id"),u=parseInt(a,10);if(isNaN(u))throw new As("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-u>r)throw new As("Webhook timestamp is too old");if(u>c+r)throw new As("Webhook timestamp is too new");const d=o.split(" ").map(S=>S.startsWith("v1,")?S.substring(3):S),g=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),p=l?`${l}.${a}.${e}`:`${a}.${e}`,C=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const S of d)try{const z=Buffer.from(S,"base64");if(await crypto.subtle.verify("HMAC",C,z,new TextEncoder().encode(p)))return}catch{continue}throw new As("The given webhook signature does not match the expected signature")}}os=new WeakSet,pu=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},On=function(e,s){if(!e)throw new Error("Headers are required");const n=e.get(s);if(n==null)throw new Error(`Missing required header: ${s}`);return n};var gi,ro,$n,gu;class Y{constructor({baseURL:e=es("OPENAI_BASE_URL"),apiKey:s=es("OPENAI_API_KEY"),organization:n=es("OPENAI_ORG_ID")??null,project:r=es("OPENAI_PROJECT_ID")??null,webhookSecret:i=es("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(gi.add(this),$n.set(this,void 0),this.completions=new Vc(this),this.chat=new Vi(this),this.embeddings=new Xc(this),this.files=new Gc(this),this.images=new su(this),this.audio=new nn(this),this.moderations=new ru(this),this.models=new nu(this),this.fineTuning=new ms(this),this.graders=new to(this),this.vectorStores=new vr(this),this.webhooks=new mu(this),this.beta=new ps(this),this.batches=new Lc(this),this.uploads=new no(this),this.responses=new wr(this),this.realtime=new br(this),this.conversations=new zi(this),this.evals=new Qi(this),this.containers=new Xi(this),this.videos=new hu(this),s===void 0)throw new D("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const a={apiKey:s,organization:n,project:r,webhookSecret:i,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&nh())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??ro.DEFAULT_TIMEOUT,this.logger=a.logger??console;const l="warn";this.logLevel=l,this.logLevel=ia(a.logLevel,"ClientOptions.logLevel",this)??ia(es("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??lh(),K(this,$n,uh),this._options=a,this.apiKey=typeof s=="string"?s:"Missing Key",this.organization=n,this.project=r,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:s}){}async authHeaders(e){return P([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return gh(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${rs}`}defaultIdempotencyKey(){return`stainless-node-retry-${Bl()}`}makeStatusError(e,s,n,r){return ve.generate(e,s,n,r)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let s;try{s=await e()}catch(n){throw n instanceof D?n:new D(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof s!="string"||!s)throw new D(`Expected 'apiKey' function argument to return a string but it returned ${s}`);return this.apiKey=s,!0}buildURL(e,s,n){const r=!m(this,gi,"m",gu).call(this)&&n||this.baseURL,i=Yd(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Zd(o)||(s={...o,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(i.search=this.stringifyQuery(s)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:s,options:n}){}get(e,s){return this.methodRequest("get",e,s)}post(e,s){return this.methodRequest("post",e,s)}patch(e,s){return this.methodRequest("patch",e,s)}put(e,s){return this.methodRequest("put",e,s)}delete(e,s){return this.methodRequest("delete",e,s)}methodRequest(e,s,n){return this.request(Promise.resolve(n).then(r=>({method:e,path:s,...r})))}request(e,s=null){return new pr(this,this.makeRequest(e,s,void 0))}async makeRequest(e,s,n){const r=await e,i=r.maxRetries??this.maxRetries;s==null&&(s=i),await this.prepareOptions(r);const{req:o,url:a,timeout:l}=await this.buildRequest(r,{retryCount:i-s});await this.prepareRequest(o,{url:a,options:r});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(ye(this).debug(`[${u}] sending request`,Ht({retryOfRequestLogID:n,method:r.method,url:a,options:r,headers:o.headers})),r.signal?.aborted)throw new Ke;const g=new AbortController,p=await this.fetchWithTimeout(a,o,l,g).catch(ri),C=Date.now();if(p instanceof globalThis.Error){const M=`retrying, ${s} attempts remaining`;if(r.signal?.aborted)throw new Ke;const A=ni(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(s)return ye(this).info(`[${u}] connection ${A?"timed out":"failed"} - ${M}`),ye(this).debug(`[${u}] connection ${A?"timed out":"failed"} (${M})`,Ht({retryOfRequestLogID:n,url:a,durationMs:C-d,message:p.message})),this.retryRequest(r,s,n??u);throw ye(this).info(`[${u}] connection ${A?"timed out":"failed"} - error; no more retries left`),ye(this).debug(`[${u}] connection ${A?"timed out":"failed"} (error; no more retries left)`,Ht({retryOfRequestLogID:n,url:a,durationMs:C-d,message:p.message})),A?new Ni:new dr({cause:p})}const S=[...p.headers.entries()].filter(([M])=>M==="x-request-id").map(([M,A])=>", "+M+": "+JSON.stringify(A)).join(""),z=`[${u}${c}${S}] ${o.method} ${a} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${C-d}ms`;if(!p.ok){const M=await this.shouldRetry(p);if(s&&M){const F=`retrying, ${s} attempts remaining`;return await ch(p.body),ye(this).info(`${z} - ${F}`),ye(this).debug(`[${u}] response error (${F})`,Ht({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:C-d})),this.retryRequest(r,s,n??u,p.headers)}const A=M?"error; no more retries left":"error; not retryable";ye(this).info(`${z} - ${A}`);const q=await p.text().catch(F=>ri(F).message),I=sh(q),V=I?void 0:q;throw ye(this).debug(`[${u}] response error (${A})`,Ht({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,message:V,durationMs:Date.now()-d})),this.makeStatusError(p.status,I,V,p.headers)}return ye(this).info(z),ye(this).debug(`[${u}] response start`,Ht({retryOfRequestLogID:n,url:p.url,status:p.status,headers:p.headers,durationMs:C-d})),{response:p,options:r,controller:g,requestLogID:u,retryOfRequestLogID:n,startTime:d}}getAPIList(e,s,n){return this.requestAPIList(s,{method:"get",path:e,...n})}requestAPIList(e,s){const n=this.makeRequest(s,null,void 0);return new Ah(this,n,e)}async fetchWithTimeout(e,s,n,r){const{signal:i,method:o,...a}=s||{};i&&i.addEventListener("abort",()=>r.abort());const l=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,c={signal:r.signal,...u?{duplex:"half"}:{},method:"GET",...a};o&&(c.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const s=e.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,s,n,r){let i;const o=r?.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(i=l)}const a=r?.get("retry-after");if(a&&!i){const l=parseFloat(a);Number.isNaN(l)?i=Date.parse(a)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(s,l)}return await tn(i),this.makeRequest(e,s-1,n)}calculateDefaultRetryTimeoutMillis(e,s){const i=s-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:s=0}={}){const n={...e},{method:r,path:i,query:o,defaultBaseURL:a}=n,l=this.buildURL(i,o,a);"timeout"in n&&th("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:r,bodyHeaders:u,retryCount:s});return{req:{method:r,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...n.fetchOptions??{}},url:l,timeout:n.timeout}}async buildHeaders({options:e,method:s,bodyHeaders:n,retryCount:r}){let i={};this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=P([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...ah(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:s}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=P([s]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Yl(e)}:m(this,$n,"f").call(this,{body:e,headers:n})}}ro=Y,$n=new WeakMap,gi=new WeakSet,gu=function(){return this.baseURL!=="https://api.openai.com/v1"};Y.OpenAI=ro;Y.DEFAULT_TIMEOUT=6e5;Y.OpenAIError=D;Y.APIError=ve;Y.APIConnectionError=dr;Y.APIConnectionTimeoutError=Ni;Y.APIUserAbortError=Ke;Y.NotFoundError=Wl;Y.ConflictError=ql;Y.RateLimitError=Kl;Y.BadRequestError=jl;Y.AuthenticationError=Ul;Y.InternalServerError=Jl;Y.PermissionDeniedError=Hl;Y.UnprocessableEntityError=Vl;Y.InvalidWebhookSignatureError=As;Y.toFile=Oh;Y.Completions=Vc;Y.Chat=Vi;Y.Embeddings=Xc;Y.Files=Gc;Y.Images=su;Y.Audio=nn;Y.Moderations=ru;Y.Models=nu;Y.FineTuning=ms;Y.Graders=to;Y.VectorStores=vr;Y.Webhooks=mu;Y.Beta=ps;Y.Batches=Lc;Y.Uploads=no;Y.Responses=wr;Y.Realtime=br;Y.Conversations=zi;Y.Evals=Qi;Y.Containers=Xi;Y.Videos=hu;const Sa=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),np=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),rp=t=>{const e=np(t);return e.charAt(0).toUpperCase()+e.slice(1)},ip=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),Ca=t=>t==="";var xs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const op=({name:t,iconNode:e,absoluteStrokeWidth:s,"absolute-stroke-width":n,strokeWidth:r,"stroke-width":i,size:o=xs.width,color:a=xs.stroke,...l},{slots:u})=>jn("svg",{...xs,...l,width:o,height:o,stroke:a,"stroke-width":Ca(s)||Ca(n)||s===!0||n===!0?Number(r||i||xs["stroke-width"])*24/Number(o):r||i||xs["stroke-width"],class:ip("lucide",l.class,...t?[`lucide-${Sa(rp(t))}-icon`,`lucide-${Sa(t)}`]:["lucide-icon"])},[...e.map(c=>jn(...c)),...u.default?[u.default()]:[]]);const Ct=(t,e)=>(s,{slots:n,attrs:r})=>jn(op,{...r,...s,iconNode:e,name:t},n);const ap=Ct("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const lp=Ct("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const cp=Ct("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);const Aa=Ct("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const up=Ct("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Ta=Ct("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const fp=Ct("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const dp=Ct("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const Ea=Ct("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hp=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},pp={class:"main-container"},mp={key:0,class:"sidebar glass-card"},gp={class:"sidebar-header"},_p={class:"config-form"},yp={class:"input-group"},bp={class:"input-group"},wp={class:"input-group"},vp=["disabled"],xp={key:0,class:"warmup-result"},Sp={class:"stats-footer"},Cp={class:"stat-item"},Ap={class:"value"},Tp={class:"stat-item"},Ep={class:"value"},Rp={class:"stat-item"},Ip={class:"value"},Op={class:"chat-container"},$p={class:"chat-header glass-card"},kp={class:"header-left"},Pp={class:"model-info"},Mp={key:0,class:"welcome"},Fp={class:"features"},Np={class:"feature-tag"},Lp={class:"feature-tag"},Dp={class:"feature-tag"},Bp={class:"message glass-card"},jp={class:"msg-content"},Up={key:0,class:"msg-meta"},Hp={key:0,class:"badge badge-blue"},Wp={key:1,class:"badge badge-purple"},qp={class:"input-area glass-card"},Vp=["disabled"],Kp=["disabled"],Jp={__name:"App",setup(t){const e=$e(localStorage.getItem("qwen_api_key")||""),s=$e("https://dashscope.aliyuncs.com/compatible-mode/v1"),n=$e("qwen-flash"),r=$e(""),i=$e([]),o=$e(window.innerWidth>768),a=$e(!1),l=$e(!1),u=$e(null),c=$e(0),d=$e(0),g=$e(0),p=$e(0),C=$e(null),S=()=>{localStorage.setItem("qwen_api_key",e.value)},z=()=>{const V=e.value.trim(),T=s.value.trim();return V?new Y({apiKey:V,baseURL:T,dangerouslyAllowBrowser:!0,maxRetries:0}):(alert(" API Key"),null)},M=async()=>{const V=z();if(!V)return;l.value=!0;const T=performance.now();try{await V.chat.completions.create({model:n.value,messages:[{role:"user",content:"hi"}],max_tokens:1,stream:!1,extra_body:{enable_thinking:!1}}),C.value=(performance.now()-T).toFixed(2)}catch(F){console.error(F),alert(": "+F.message)}finally{l.value=!1}},A=async()=>{if(!r.value.trim()||a.value)return;const V=z();if(!V)return;const T=r.value;r.value="";const F=T.length;g.value+=F,i.value.push({role:"user",content:T}),i.value.push({role:"assistant",content:"",ttft:0,genTime:0}),a.value=!0;const Q=i.value.length-1,N=performance.now();let B=0,J=!0;try{const $=await V.chat.completions.create({model:n.value,messages:i.value.slice(0,-1).map(ee=>({role:ee.role,content:ee.content})),stream:!0,extra_body:{enable_thinking:!1}});for await(const ee of $){const fe=ee.choices[0]?.delta?.content||"";fe&&(J&&(B=performance.now(),c.value=(B-N).toFixed(2),i.value[Q].ttft=c.value,J=!1),i.value[Q].content+=fe,await Oi(),q())}d.value=(performance.now()-B).toFixed(2),i.value[Q].genTime=d.value,p.value+=i.value[Q].content.length}catch($){console.error($),i.value[Q].content=": "+$.message}finally{a.value=!1}},q=()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)},I=()=>{i.value=[],g.value=0,p.value=0};return ki(()=>{q()}),(V,T)=>(ke(),dt("div",pp,[ue(xd,{name:"slide"},{default:nl(()=>[o.value?(ke(),dt("div",mp,[H("div",gp,[ue(Ne(Ta),{class:"icon"}),T[5]||(T[5]=H("h2",null,"API ",-1))]),H("div",_p,[H("div",yp,[T[6]||(T[6]=H("label",null,"DASHSCOPE API KEY",-1)),un(H("input",{"onUpdate:modelValue":T[0]||(T[0]=F=>e.value=F),type:"password",placeholder:"sk-...",onChange:S},null,544),[[Nr,e.value]])]),H("div",bp,[T[7]||(T[7]=H("label",null,"BASE URL",-1)),un(H("input",{"onUpdate:modelValue":T[1]||(T[1]=F=>s.value=F),type:"text"},null,512),[[Nr,s.value]])]),H("div",wp,[T[9]||(T[9]=H("label",null,"MODEL",-1)),un(H("select",{"onUpdate:modelValue":T[2]||(T[2]=F=>n.value=F)},[...T[8]||(T[8]=[H("option",{value:"qwen-flash"},"qwen-flash",-1),H("option",{value:"qwen-plus"},"qwen-plus",-1),H("option",{value:"qwen-max"},"qwen-max",-1),H("option",{value:"qwen-turbo"},"qwen-turbo",-1)])],512),[[Wd,n.value]])]),H("button",{class:"btn-primary warmup-btn",onClick:M,disabled:l.value},[l.value?(ke(),Cs(Ne(Aa),{key:1,class:"icon-sm spin"})):(ke(),Cs(Ne(Ea),{key:0,class:"icon-sm"})),ns(" "+rt(l.value?"...":""),1)],8,vp),C.value?(ke(),dt("div",xp,[ue(Ne(fp),{class:"icon-success"}),ns("  ("+rt(C.value)+"ms) ",1)])):Yt("",!0)]),H("div",Sp,[H("div",Cp,[T[10]||(T[10]=H("span",{class:"label"},"TTFT",-1)),H("span",Ap,rt(c.value)+"ms",1)]),H("div",Tp,[T[11]||(T[11]=H("span",{class:"label"},"",-1)),H("span",Ep,rt(d.value)+"ms",1)]),H("div",Rp,[T[12]||(T[12]=H("span",{class:"label"},"",-1)),H("span",Ip,rt(g.value+p.value),1)])])])):Yt("",!0)]),_:1}),H("div",Op,[H("div",$p,[H("div",kp,[H("button",{class:"toggle-btn",onClick:T[3]||(T[3]=F=>o.value=!o.value)},[ue(Ne(Ta),{class:"icon"})]),H("div",Pp,[ue(Ne(cp),{class:"icon-sm"}),H("span",null,rt(n.value),1),T[13]||(T[13]=H("span",{class:"status-dot"},null,-1))])]),H("button",{class:"clear-btn",onClick:I},[ue(Ne(dp),{class:"icon-sm"})])]),H("div",{ref_key:"scrollContainer",ref:u,class:"messages-list"},[i.value.length===0?(ke(),dt("div",Mp,[T[17]||(T[17]=H("div",{class:"welcome-icon"},"Q",-1)),T[18]||(T[18]=H("h1",null,"Qwen Web Demo",-1)),T[19]||(T[19]=H("p",null,"",-1)),H("div",Fp,[H("div",Np,[ue(Ne(Ea),{size:"14"}),T[14]||(T[14]=ns(" HTTP/2 ",-1))]),H("div",Lp,[ue(Ne(lp),{size:"14"}),T[15]||(T[15]=ns(" TTFT ",-1))]),H("div",Dp,[ue(Ne(ap),{size:"14"}),T[16]||(T[16]=ns(" Token ",-1))])])])):Yt("",!0),(ke(!0),dt(qe,null,Of(i.value,(F,Q)=>(ke(),dt("div",{key:Q,class:nr(["message-wrapper",F.role])},[H("div",Bp,[H("div",jp,rt(F.content),1),F.role==="assistant"?(ke(),dt("div",Up,[F.ttft?(ke(),dt("span",Hp,"TTFT: "+rt(F.ttft)+"ms",1)):Yt("",!0),F.genTime?(ke(),dt("span",Wp,"GEN: "+rt(F.genTime)+"ms",1)):Yt("",!0)])):Yt("",!0)])],2))),128))],512),H("div",qp,[un(H("input",{"onUpdate:modelValue":T[4]||(T[4]=F=>r.value=F),type:"text",placeholder:"...",onKeyup:Vd(A,["enter"]),disabled:a.value},null,40,Vp),[[Nr,r.value]]),H("button",{class:"send-btn",onClick:A,disabled:a.value||!r.value.trim()},[a.value?(ke(),Cs(Ne(Aa),{key:1,class:"icon spin"})):(ke(),Cs(Ne(up),{key:0,class:"icon"}))],8,Kp)])])]))}},Xp=hp(Jp,[["__scopeId","data-v-2c2ba562"]]);Xd(Xp).mount("#app");
